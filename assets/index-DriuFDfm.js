var Hn=Object.defineProperty;var In=(e,t,r)=>t in e?Hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bt=(e,t,r)=>(In(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();function Le(){}function ys(e){return e()}function Lr(){return Object.create(null)}function Dt(e){e.forEach(ys)}function gs(e){return typeof e=="function"}function vs(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function On(e){return Object.keys(e).length===0}function et(e,t){e.appendChild(t)}function it(e,t,r){e.insertBefore(t,r||null)}function ze(e){e.parentNode&&e.parentNode.removeChild(e)}function qn(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function Ce(e){return document.createElement(e)}function ms(e){return document.createTextNode(e)}function Er(){return ms(" ")}function Rn(e,t,r,s){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r,s)}function qe(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Vn(e){return Array.from(e.childNodes)}function Tn(e,t){e.value=t??""}function Pn(e,t,{bubbles:r=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:s})}let lt;function pt(e){lt=e}function Fs(){if(!lt)throw new Error("Function called outside component initialization");return lt}function Dn(e){Fs().$$.on_mount.push(e)}function zn(){const e=Fs();return(t,r,{cancelable:s=!1}={})=>{const n=e.$$.callbacks[t];if(n){const a=Pn(t,r,{cancelable:s});return n.slice().forEach(i=>{i.call(e,a)}),!a.defaultPrevented}return!0}}const Ve=[],$r=[];let Xe=[];const Nr=[],Xn=Promise.resolve();let tr=!1;function Kn(){tr||(tr=!0,Xn.then(ws))}function rr(e){Xe.push(e)}const Wt=new Set;let Re=0;function ws(){if(Re!==0)return;const e=lt;do{try{for(;Re<Ve.length;){const t=Ve[Re];Re++,pt(t),Un(t.$$)}}catch(t){throw Ve.length=0,Re=0,t}for(pt(null),Ve.length=0,Re=0;$r.length;)$r.pop()();for(let t=0;t<Xe.length;t+=1){const r=Xe[t];Wt.has(r)||(Wt.add(r),r())}Xe.length=0}while(Ve.length);for(;Nr.length;)Nr.pop()();tr=!1,Wt.clear(),pt(e)}function Un(e){if(e.fragment!==null){e.update(),Dt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(rr)}}function Yn(e){const t=[],r=[];Xe.forEach(s=>e.indexOf(s)===-1?t.push(s):r.push(s)),r.forEach(s=>s()),Xe=t}const xt=new Set;let Bn;function Ms(e,t){e&&e.i&&(xt.delete(e),e.i(t))}function Wn(e,t,r,s){if(e&&e.o){if(xt.has(e))return;xt.add(e),Bn.c.push(()=>{xt.delete(e)}),e.o(t)}}function Hr(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Qn(e){e&&e.c()}function xs(e,t,r){const{fragment:s,after_update:n}=e.$$;s&&s.m(t,r),rr(()=>{const a=e.$$.on_mount.map(ys).filter(gs);e.$$.on_destroy?e.$$.on_destroy.push(...a):Dt(a),e.$$.on_mount=[]}),n.forEach(rr)}function bs(e,t){const r=e.$$;r.fragment!==null&&(Yn(r.after_update),Dt(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Gn(e,t){e.$$.dirty[0]===-1&&(Ve.push(e),Kn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ss(e,t,r,s,n,a,i=null,p=[-1]){const _=lt;pt(e);const l=e.$$={fragment:null,ctx:[],props:a,update:Le,not_equal:n,bound:Lr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(_?_.$$.context:[])),callbacks:Lr(),dirty:p,skip_bound:!1,root:t.target||_.$$.root};i&&i(l.root);let o=!1;if(l.ctx=r?r(e,t.props||{},(c,d,...y)=>{const m=y.length?y[0]:d;return l.ctx&&n(l.ctx[c],l.ctx[c]=m)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](m),o&&Gn(e,c)),d}):[],l.update(),o=!0,Dt(l.before_update),l.fragment=s?s(l.ctx):!1,t.target){if(t.hydrate){const c=Vn(t.target);l.fragment&&l.fragment.l(c),c.forEach(ze)}else l.fragment&&l.fragment.c();t.intro&&Ms(e.$$.fragment),xs(e,t.target,t.anchor),ws()}pt(_)}class Cs{constructor(){Bt(this,"$$");Bt(this,"$$set")}$destroy(){bs(this,1),this.$destroy=Le}$on(t,r){if(!gs(r))return Le;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(r),()=>{const n=s.indexOf(r);n!==-1&&s.splice(n,1)}}$set(t){this.$$set&&!On(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Jn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jn);function bt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ks(e){let t,r,s;e.length!==2?(t=bt,r=(p,_)=>bt(e(p),_),s=(p,_)=>e(p)-_):(t=e===bt||e===Zn?e:jn,r=e,s=e);function n(p,_,l=0,o=p.length){if(l<o){if(t(_,_)!==0)return o;do{const c=l+o>>>1;r(p[c],_)<0?l=c+1:o=c}while(l<o)}return l}function a(p,_,l=0,o=p.length){if(l<o){if(t(_,_)!==0)return o;do{const c=l+o>>>1;r(p[c],_)<=0?l=c+1:o=c}while(l<o)}return l}function i(p,_,l=0,o=p.length){const c=n(p,_,l,o-1);return c>l&&s(p[c-1],_)>-s(p[c],_)?c-1:c}return{left:n,center:i,right:a}}function jn(){return 0}function ea(e){return e===null?NaN:+e}const ta=ks(bt),ra=ta.right;ks(ea).center;class Ir extends Map{constructor(t,r=aa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,n]of t)this.set(s,n)}get(t){return super.get(Or(this,t))}has(t){return super.has(Or(this,t))}set(t,r){return super.set(sa(this,t),r)}delete(t){return super.delete(na(this,t))}}function Or({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function sa({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function na({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function aa(e){return e!==null&&typeof e=="object"?e.valueOf():e}const ia=Math.sqrt(50),pa=Math.sqrt(10),la=Math.sqrt(2);function At(e,t,r){const s=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(s)),a=s/Math.pow(10,n),i=a>=ia?10:a>=pa?5:a>=la?2:1;let p,_,l;return n<0?(l=Math.pow(10,-n)/i,p=Math.round(e*l),_=Math.round(t*l),p/l<e&&++p,_/l>t&&--_,l=-l):(l=Math.pow(10,n)*i,p=Math.round(e/l),_=Math.round(t/l),p*l<e&&++p,_*l>t&&--_),_<p&&.5<=r&&r<2?At(e,t,r*2):[p,_,l]}function _a(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[n,a,i]=s?At(t,e,r):At(e,t,r);if(!(a>=n))return[];const p=a-n+1,_=new Array(p);if(s)if(i<0)for(let l=0;l<p;++l)_[l]=(a-l)/-i;else for(let l=0;l<p;++l)_[l]=(a-l)*i;else if(i<0)for(let l=0;l<p;++l)_[l]=(n+l)/-i;else for(let l=0;l<p;++l)_[l]=(n+l)*i;return _}function sr(e,t,r){return t=+t,e=+e,r=+r,At(e,t,r)[2]}function oa(e,t,r){t=+t,e=+e,r=+r;const s=t<e,n=s?sr(t,e,r):sr(e,t,r);return(s?-1:1)*(n<0?1/-n:n)}function qr(e,t){let r;if(t===void 0)for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);else{let s=-1;for(let n of e)(n=t(n,++s,e))!=null&&(r<n||r===void 0&&n>=n)&&(r=n)}return r}function Rr(e,t){let r;if(t===void 0)for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);else{let s=-1;for(let n of e)(n=t(n,++s,e))!=null&&(r>n||r===void 0&&n>=n)&&(r=n)}return r}function ca(e){return e}var Qt=1,Gt=2,nr=3,tt=4,Vr=1e-6;function ha(e){return"translate("+e+",0)"}function ua(e){return"translate(0,"+e+")"}function fa(e){return t=>+e(t)}function da(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function ya(){return!this.__axis}function As(e,t){var r=[],s=null,n=null,a=6,i=6,p=3,_=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Qt||e===tt?-1:1,o=e===tt||e===Gt?"x":"y",c=e===Qt||e===nr?ha:ua;function d(y){var m=s??(t.ticks?t.ticks.apply(t,r):t.domain()),F=n??(t.tickFormat?t.tickFormat.apply(t,r):ca),x=Math.max(a,0)+p,g=t.range(),w=+g[0]+_,L=+g[g.length-1]+_,I=(t.bandwidth?da:fa)(t.copy(),_),N=y.selection?y.selection():y,q=N.selectAll(".domain").data([null]),O=N.selectAll(".tick").data(m,t).order(),E=O.exit(),R=O.enter().append("g").attr("class","tick"),U=O.select("line"),$=O.select("text");q=q.merge(q.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(R),U=U.merge(R.append("line").attr("stroke","currentColor").attr(o+"2",l*a)),$=$.merge(R.append("text").attr("fill","currentColor").attr(o,l*x).attr("dy",e===Qt?"0em":e===nr?"0.71em":"0.32em")),y!==N&&(q=q.transition(y),O=O.transition(y),U=U.transition(y),$=$.transition(y),E=E.transition(y).attr("opacity",Vr).attr("transform",function(v){return isFinite(v=I(v))?c(v+_):this.getAttribute("transform")}),R.attr("opacity",Vr).attr("transform",function(v){var S=this.parentNode.__axis;return c((S&&isFinite(S=S(v))?S:I(v))+_)})),E.remove(),q.attr("d",e===tt||e===Gt?i?"M"+l*i+","+w+"H"+_+"V"+L+"H"+l*i:"M"+_+","+w+"V"+L:i?"M"+w+","+l*i+"V"+_+"H"+L+"V"+l*i:"M"+w+","+_+"H"+L),O.attr("opacity",1).attr("transform",function(v){return c(I(v)+_)}),U.attr(o+"2",l*a),$.attr(o,l*x).text(F),N.filter(ya).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Gt?"start":e===tt?"end":"middle"),N.each(function(){this.__axis=I})}return d.scale=function(y){return arguments.length?(t=y,d):t},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(y){return arguments.length?(r=y==null?[]:Array.from(y),d):r.slice()},d.tickValues=function(y){return arguments.length?(s=y==null?null:Array.from(y),d):s&&s.slice()},d.tickFormat=function(y){return arguments.length?(n=y,d):n},d.tickSize=function(y){return arguments.length?(a=i=+y,d):a},d.tickSizeInner=function(y){return arguments.length?(a=+y,d):a},d.tickSizeOuter=function(y){return arguments.length?(i=+y,d):i},d.tickPadding=function(y){return arguments.length?(p=+y,d):p},d.offset=function(y){return arguments.length?(_=+y,d):_},d}function ga(e){return As(nr,e)}function va(e){return As(tt,e)}var ma={value:()=>{}};function Ls(){for(var e=0,t=arguments.length,r={},s;e<t;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new St(r)}function St(e){this._=e}function Fa(e,t){return e.trim().split(/^|\s+/).map(function(r){var s="",n=r.indexOf(".");if(n>=0&&(s=r.slice(n+1),r=r.slice(0,n)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}St.prototype=Ls.prototype={constructor:St,on:function(e,t){var r=this._,s=Fa(e+"",r),n,a=-1,i=s.length;if(arguments.length<2){for(;++a<i;)if((n=(e=s[a]).type)&&(n=wa(r[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(n=(e=s[a]).type)r[n]=Tr(r[n],e.name,t);else if(t==null)for(n in r)r[n]=Tr(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new St(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var r=new Array(n),s=0,n,a;s<n;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],s=0,n=a.length;s<n;++s)a[s].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)}};function wa(e,t){for(var r=0,s=e.length,n;r<s;++r)if((n=e[r]).name===t)return n.value}function Tr(e,t,r){for(var s=0,n=e.length;s<n;++s)if(e[s].name===t){e[s]=ma,e=e.slice(0,s).concat(e.slice(s+1));break}return r!=null&&e.push({name:t,value:r}),e}var ar="http://www.w3.org/1999/xhtml";const Pr={svg:"http://www.w3.org/2000/svg",xhtml:ar,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zt(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Pr.hasOwnProperty(t)?{space:Pr[t],local:e}:e}function Ma(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===ar&&t.documentElement.namespaceURI===ar?t.createElement(e):t.createElementNS(r,e)}}function xa(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Es(e){var t=zt(e);return(t.local?xa:Ma)(t)}function ba(){}function dr(e){return e==null?ba:function(){return this.querySelector(e)}}function Sa(e){typeof e!="function"&&(e=dr(e));for(var t=this._groups,r=t.length,s=new Array(r),n=0;n<r;++n)for(var a=t[n],i=a.length,p=s[n]=new Array(i),_,l,o=0;o<i;++o)(_=a[o])&&(l=e.call(_,_.__data__,o,a))&&("__data__"in _&&(l.__data__=_.__data__),p[o]=l);return new ee(s,this._parents)}function $s(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ca(){return[]}function Ns(e){return e==null?Ca:function(){return this.querySelectorAll(e)}}function ka(e){return function(){return $s(e.apply(this,arguments))}}function Aa(e){typeof e=="function"?e=ka(e):e=Ns(e);for(var t=this._groups,r=t.length,s=[],n=[],a=0;a<r;++a)for(var i=t[a],p=i.length,_,l=0;l<p;++l)(_=i[l])&&(s.push(e.call(_,_.__data__,l,i)),n.push(_));return new ee(s,n)}function Hs(e){return function(){return this.matches(e)}}function Is(e){return function(t){return t.matches(e)}}var La=Array.prototype.find;function Ea(e){return function(){return La.call(this.children,e)}}function $a(){return this.firstElementChild}function Na(e){return this.select(e==null?$a:Ea(typeof e=="function"?e:Is(e)))}var Ha=Array.prototype.filter;function Ia(){return Array.from(this.children)}function Oa(e){return function(){return Ha.call(this.children,e)}}function qa(e){return this.selectAll(e==null?Ia:Oa(typeof e=="function"?e:Is(e)))}function Ra(e){typeof e!="function"&&(e=Hs(e));for(var t=this._groups,r=t.length,s=new Array(r),n=0;n<r;++n)for(var a=t[n],i=a.length,p=s[n]=[],_,l=0;l<i;++l)(_=a[l])&&e.call(_,_.__data__,l,a)&&p.push(_);return new ee(s,this._parents)}function Os(e){return new Array(e.length)}function Va(){return new ee(this._enter||this._groups.map(Os),this._parents)}function Lt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Lt.prototype={constructor:Lt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ta(e){return function(){return e}}function Pa(e,t,r,s,n,a){for(var i=0,p,_=t.length,l=a.length;i<l;++i)(p=t[i])?(p.__data__=a[i],s[i]=p):r[i]=new Lt(e,a[i]);for(;i<_;++i)(p=t[i])&&(n[i]=p)}function Da(e,t,r,s,n,a,i){var p,_,l=new Map,o=t.length,c=a.length,d=new Array(o),y;for(p=0;p<o;++p)(_=t[p])&&(d[p]=y=i.call(_,_.__data__,p,t)+"",l.has(y)?n[p]=_:l.set(y,_));for(p=0;p<c;++p)y=i.call(e,a[p],p,a)+"",(_=l.get(y))?(s[p]=_,_.__data__=a[p],l.delete(y)):r[p]=new Lt(e,a[p]);for(p=0;p<o;++p)(_=t[p])&&l.get(d[p])===_&&(n[p]=_)}function za(e){return e.__data__}function Xa(e,t){if(!arguments.length)return Array.from(this,za);var r=t?Da:Pa,s=this._parents,n=this._groups;typeof e!="function"&&(e=Ta(e));for(var a=n.length,i=new Array(a),p=new Array(a),_=new Array(a),l=0;l<a;++l){var o=s[l],c=n[l],d=c.length,y=Ka(e.call(o,o&&o.__data__,l,s)),m=y.length,F=p[l]=new Array(m),x=i[l]=new Array(m),g=_[l]=new Array(d);r(o,c,F,x,g,y,t);for(var w=0,L=0,I,N;w<m;++w)if(I=F[w]){for(w>=L&&(L=w+1);!(N=x[L])&&++L<m;);I._next=N||null}}return i=new ee(i,s),i._enter=p,i._exit=_,i}function Ka(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ua(){return new ee(this._exit||this._groups.map(Os),this._parents)}function Ya(e,t,r){var s=this.enter(),n=this,a=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),r==null?a.remove():r(a),s&&n?s.merge(n).order():n}function Ba(e){for(var t=e.selection?e.selection():e,r=this._groups,s=t._groups,n=r.length,a=s.length,i=Math.min(n,a),p=new Array(n),_=0;_<i;++_)for(var l=r[_],o=s[_],c=l.length,d=p[_]=new Array(c),y,m=0;m<c;++m)(y=l[m]||o[m])&&(d[m]=y);for(;_<n;++_)p[_]=r[_];return new ee(p,this._parents)}function Wa(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var s=e[t],n=s.length-1,a=s[n],i;--n>=0;)(i=s[n])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function Qa(e){e||(e=Ga);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var r=this._groups,s=r.length,n=new Array(s),a=0;a<s;++a){for(var i=r[a],p=i.length,_=n[a]=new Array(p),l,o=0;o<p;++o)(l=i[o])&&(_[o]=l);_.sort(t)}return new ee(n,this._parents).order()}function Ga(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ja(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Za(){return Array.from(this)}function ja(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],n=0,a=s.length;n<a;++n){var i=s[n];if(i)return i}return null}function ei(){let e=0;for(const t of this)++e;return e}function ti(){return!this.node()}function ri(e){for(var t=this._groups,r=0,s=t.length;r<s;++r)for(var n=t[r],a=0,i=n.length,p;a<i;++a)(p=n[a])&&e.call(p,p.__data__,a,n);return this}function si(e){return function(){this.removeAttribute(e)}}function ni(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ai(e,t){return function(){this.setAttribute(e,t)}}function ii(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pi(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function li(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function _i(e,t){var r=zt(e);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((t==null?r.local?ni:si:typeof t=="function"?r.local?li:pi:r.local?ii:ai)(r,t))}function qs(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function oi(e){return function(){this.style.removeProperty(e)}}function ci(e,t,r){return function(){this.style.setProperty(e,t,r)}}function hi(e,t,r){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,r)}}function ui(e,t,r){return arguments.length>1?this.each((t==null?oi:typeof t=="function"?hi:ci)(e,t,r??"")):Ue(this.node(),e)}function Ue(e,t){return e.style.getPropertyValue(t)||qs(e).getComputedStyle(e,null).getPropertyValue(t)}function fi(e){return function(){delete this[e]}}function di(e,t){return function(){this[e]=t}}function yi(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function gi(e,t){return arguments.length>1?this.each((t==null?fi:typeof t=="function"?yi:di)(e,t)):this.node()[e]}function Rs(e){return e.trim().split(/^|\s+/)}function yr(e){return e.classList||new Vs(e)}function Vs(e){this._node=e,this._names=Rs(e.getAttribute("class")||"")}Vs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ts(e,t){for(var r=yr(e),s=-1,n=t.length;++s<n;)r.add(t[s])}function Ps(e,t){for(var r=yr(e),s=-1,n=t.length;++s<n;)r.remove(t[s])}function vi(e){return function(){Ts(this,e)}}function mi(e){return function(){Ps(this,e)}}function Fi(e,t){return function(){(t.apply(this,arguments)?Ts:Ps)(this,e)}}function wi(e,t){var r=Rs(e+"");if(arguments.length<2){for(var s=yr(this.node()),n=-1,a=r.length;++n<a;)if(!s.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?Fi:t?vi:mi)(r,t))}function Mi(){this.textContent=""}function xi(e){return function(){this.textContent=e}}function bi(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Si(e){return arguments.length?this.each(e==null?Mi:(typeof e=="function"?bi:xi)(e)):this.node().textContent}function Ci(){this.innerHTML=""}function ki(e){return function(){this.innerHTML=e}}function Ai(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Li(e){return arguments.length?this.each(e==null?Ci:(typeof e=="function"?Ai:ki)(e)):this.node().innerHTML}function Ei(){this.nextSibling&&this.parentNode.appendChild(this)}function $i(){return this.each(Ei)}function Ni(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hi(){return this.each(Ni)}function Ii(e){var t=typeof e=="function"?e:Es(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Oi(){return null}function qi(e,t){var r=typeof e=="function"?e:Es(e),s=t==null?Oi:typeof t=="function"?t:dr(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function Ri(){var e=this.parentNode;e&&e.removeChild(this)}function Vi(){return this.each(Ri)}function Ti(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pi(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Di(e){return this.select(e?Pi:Ti)}function zi(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Xi(e){return function(t){e.call(this,t,this.__data__)}}function Ki(e){return e.trim().split(/^|\s+/).map(function(t){var r="",s=t.indexOf(".");return s>=0&&(r=t.slice(s+1),t=t.slice(0,s)),{type:t,name:r}})}function Ui(e){return function(){var t=this.__on;if(t){for(var r=0,s=-1,n=t.length,a;r<n;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++s]=a;++s?t.length=s:delete this.__on}}}function Yi(e,t,r){return function(){var s=this.__on,n,a=Xi(t);if(s){for(var i=0,p=s.length;i<p;++i)if((n=s[i]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),n.value=t;return}}this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},s?s.push(n):this.__on=[n]}}function Bi(e,t,r){var s=Ki(e+""),n,a=s.length,i;if(arguments.length<2){var p=this.node().__on;if(p){for(var _=0,l=p.length,o;_<l;++_)for(n=0,o=p[_];n<a;++n)if((i=s[n]).type===o.type&&i.name===o.name)return o.value}return}for(p=t?Yi:Ui,n=0;n<a;++n)this.each(p(s[n],t,r));return this}function Ds(e,t,r){var s=qs(e),n=s.CustomEvent;typeof n=="function"?n=new n(t,r):(n=s.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function Wi(e,t){return function(){return Ds(this,e,t)}}function Qi(e,t){return function(){return Ds(this,e,t.apply(this,arguments))}}function Gi(e,t){return this.each((typeof t=="function"?Qi:Wi)(e,t))}function*Ji(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],n=0,a=s.length,i;n<a;++n)(i=s[n])&&(yield i)}var gr=[null];function ee(e,t){this._groups=e,this._parents=t}function ht(){return new ee([[document.documentElement]],gr)}function Zi(){return this}ee.prototype=ht.prototype={constructor:ee,select:Sa,selectAll:Aa,selectChild:Na,selectChildren:qa,filter:Ra,data:Xa,enter:Va,exit:Ua,join:Ya,merge:Ba,selection:Zi,order:Wa,sort:Qa,call:Ja,nodes:Za,node:ja,size:ei,empty:ti,each:ri,attr:_i,style:ui,property:gi,classed:wi,text:Si,html:Li,raise:$i,lower:Hi,append:Ii,insert:qi,remove:Vi,clone:Di,datum:zi,on:Bi,dispatch:Gi,[Symbol.iterator]:Ji};function Jt(e){return typeof e=="string"?new ee([[document.querySelector(e)]],[document.documentElement]):new ee([[e]],gr)}function ji(e){return typeof e=="string"?new ee([document.querySelectorAll(e)],[document.documentElement]):new ee([$s(e)],gr)}function vr(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zs(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function ut(){}var _t=.7,Et=1/_t,Ke="\\s*([+-]?\\d+)\\s*",ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ep=/^#([0-9a-f]{3,8})$/,tp=new RegExp(`^rgb\\(${Ke},${Ke},${Ke}\\)$`),rp=new RegExp(`^rgb\\(${ge},${ge},${ge}\\)$`),sp=new RegExp(`^rgba\\(${Ke},${Ke},${Ke},${ot}\\)$`),np=new RegExp(`^rgba\\(${ge},${ge},${ge},${ot}\\)$`),ap=new RegExp(`^hsl\\(${ot},${ge},${ge}\\)$`),ip=new RegExp(`^hsla\\(${ot},${ge},${ge},${ot}\\)$`),Dr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vr(ut,Ee,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zr,formatHex:zr,formatHex8:pp,formatHsl:lp,formatRgb:Xr,toString:Xr});function zr(){return this.rgb().formatHex()}function pp(){return this.rgb().formatHex8()}function lp(){return Xs(this).formatHsl()}function Xr(){return this.rgb().formatRgb()}function Ee(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ep.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Kr(t):r===3?new ne(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?gt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?gt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tp.exec(e))?new ne(t[1],t[2],t[3],1):(t=rp.exec(e))?new ne(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sp.exec(e))?gt(t[1],t[2],t[3],t[4]):(t=np.exec(e))?gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ap.exec(e))?Br(t[1],t[2]/100,t[3]/100,1):(t=ip.exec(e))?Br(t[1],t[2]/100,t[3]/100,t[4]):Dr.hasOwnProperty(e)?Kr(Dr[e]):e==="transparent"?new ne(NaN,NaN,NaN,0):null}function Kr(e){return new ne(e>>16&255,e>>8&255,e&255,1)}function gt(e,t,r,s){return s<=0&&(e=t=r=NaN),new ne(e,t,r,s)}function _p(e){return e instanceof ut||(e=Ee(e)),e?(e=e.rgb(),new ne(e.r,e.g,e.b,e.opacity)):new ne}function ir(e,t,r,s){return arguments.length===1?_p(e):new ne(e,t,r,s??1)}function ne(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}vr(ne,ir,zs(ut,{brighter(e){return e=e==null?Et:Math.pow(Et,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_t:Math.pow(_t,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ne(Ae(this.r),Ae(this.g),Ae(this.b),$t(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ur,formatHex:Ur,formatHex8:op,formatRgb:Yr,toString:Yr}));function Ur(){return`#${ke(this.r)}${ke(this.g)}${ke(this.b)}`}function op(){return`#${ke(this.r)}${ke(this.g)}${ke(this.b)}${ke((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yr(){const e=$t(this.opacity);return`${e===1?"rgb(":"rgba("}${Ae(this.r)}, ${Ae(this.g)}, ${Ae(this.b)}${e===1?")":`, ${e})`}`}function $t(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ae(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ke(e){return e=Ae(e),(e<16?"0":"")+e.toString(16)}function Br(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ce(e,t,r,s)}function Xs(e){if(e instanceof ce)return new ce(e.h,e.s,e.l,e.opacity);if(e instanceof ut||(e=Ee(e)),!e)return new ce;if(e instanceof ce)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,n=Math.min(t,r,s),a=Math.max(t,r,s),i=NaN,p=a-n,_=(a+n)/2;return p?(t===a?i=(r-s)/p+(r<s)*6:r===a?i=(s-t)/p+2:i=(t-r)/p+4,p/=_<.5?a+n:2-a-n,i*=60):p=_>0&&_<1?0:i,new ce(i,p,_,e.opacity)}function cp(e,t,r,s){return arguments.length===1?Xs(e):new ce(e,t,r,s??1)}function ce(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}vr(ce,cp,zs(ut,{brighter(e){return e=e==null?Et:Math.pow(Et,e),new ce(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_t:Math.pow(_t,e),new ce(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,n=2*r-s;return new ne(Zt(e>=240?e-240:e+120,n,s),Zt(e,n,s),Zt(e<120?e+240:e-120,n,s),this.opacity)},clamp(){return new ce(Wr(this.h),vt(this.s),vt(this.l),$t(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$t(this.opacity);return`${e===1?"hsl(":"hsla("}${Wr(this.h)}, ${vt(this.s)*100}%, ${vt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wr(e){return e=(e||0)%360,e<0?e+360:e}function vt(e){return Math.max(0,Math.min(1,e||0))}function Zt(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mr=e=>()=>e;function hp(e,t){return function(r){return e+r*t}}function up(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function fp(e){return(e=+e)==1?Ks:function(t,r){return r-t?up(t,r,e):mr(isNaN(t)?r:t)}}function Ks(e,t){var r=t-e;return r?hp(e,r):mr(isNaN(e)?t:e)}const Nt=function e(t){var r=fp(t);function s(n,a){var i=r((n=ir(n)).r,(a=ir(a)).r),p=r(n.g,a.g),_=r(n.b,a.b),l=Ks(n.opacity,a.opacity);return function(o){return n.r=i(o),n.g=p(o),n.b=_(o),n.opacity=l(o),n+""}}return s.gamma=e,s}(1);function dp(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),n;return function(a){for(n=0;n<r;++n)s[n]=e[n]*(1-a)+t[n]*a;return s}}function yp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gp(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,n=new Array(s),a=new Array(r),i;for(i=0;i<s;++i)n[i]=Fr(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(p){for(i=0;i<s;++i)a[i]=n[i](p);return a}}function vp(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function oe(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mp(e,t){var r={},s={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=Fr(e[n],t[n]):s[n]=t[n];return function(a){for(n in r)s[n]=r[n](a);return s}}var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jt=new RegExp(pr.source,"g");function Fp(e){return function(){return e}}function wp(e){return function(t){return e(t)+""}}function Us(e,t){var r=pr.lastIndex=jt.lastIndex=0,s,n,a,i=-1,p=[],_=[];for(e=e+"",t=t+"";(s=pr.exec(e))&&(n=jt.exec(t));)(a=n.index)>r&&(a=t.slice(r,a),p[i]?p[i]+=a:p[++i]=a),(s=s[0])===(n=n[0])?p[i]?p[i]+=n:p[++i]=n:(p[++i]=null,_.push({i,x:oe(s,n)})),r=jt.lastIndex;return r<t.length&&(a=t.slice(r),p[i]?p[i]+=a:p[++i]=a),p.length<2?_[0]?wp(_[0].x):Fp(t):(t=_.length,function(l){for(var o=0,c;o<t;++o)p[(c=_[o]).i]=c.x(l);return p.join("")})}function Fr(e,t){var r=typeof t,s;return t==null||r==="boolean"?mr(t):(r==="number"?oe:r==="string"?(s=Ee(t))?(t=s,Nt):Us:t instanceof Ee?Nt:t instanceof Date?vp:yp(t)?dp:Array.isArray(t)?gp:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mp:oe)(e,t)}function Mp(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Qr=180/Math.PI,lr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ys(e,t,r,s,n,a){var i,p,_;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(_=e*r+t*s)&&(r-=e*_,s-=t*_),(p=Math.sqrt(r*r+s*s))&&(r/=p,s/=p,_/=p),e*s<t*r&&(e=-e,t=-t,_=-_,i=-i),{translateX:n,translateY:a,rotate:Math.atan2(t,e)*Qr,skewX:Math.atan(_)*Qr,scaleX:i,scaleY:p}}var mt;function xp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?lr:Ys(t.a,t.b,t.c,t.d,t.e,t.f)}function bp(e){return e==null||(mt||(mt=document.createElementNS("http://www.w3.org/2000/svg","g")),mt.setAttribute("transform",e),!(e=mt.transform.baseVal.consolidate()))?lr:(e=e.matrix,Ys(e.a,e.b,e.c,e.d,e.e,e.f))}function Bs(e,t,r,s){function n(l){return l.length?l.pop()+" ":""}function a(l,o,c,d,y,m){if(l!==c||o!==d){var F=y.push("translate(",null,t,null,r);m.push({i:F-4,x:oe(l,c)},{i:F-2,x:oe(o,d)})}else(c||d)&&y.push("translate("+c+t+d+r)}function i(l,o,c,d){l!==o?(l-o>180?o+=360:o-l>180&&(l+=360),d.push({i:c.push(n(c)+"rotate(",null,s)-2,x:oe(l,o)})):o&&c.push(n(c)+"rotate("+o+s)}function p(l,o,c,d){l!==o?d.push({i:c.push(n(c)+"skewX(",null,s)-2,x:oe(l,o)}):o&&c.push(n(c)+"skewX("+o+s)}function _(l,o,c,d,y,m){if(l!==c||o!==d){var F=y.push(n(y)+"scale(",null,",",null,")");m.push({i:F-4,x:oe(l,c)},{i:F-2,x:oe(o,d)})}else(c!==1||d!==1)&&y.push(n(y)+"scale("+c+","+d+")")}return function(l,o){var c=[],d=[];return l=e(l),o=e(o),a(l.translateX,l.translateY,o.translateX,o.translateY,c,d),i(l.rotate,o.rotate,c,d),p(l.skewX,o.skewX,c,d),_(l.scaleX,l.scaleY,o.scaleX,o.scaleY,c,d),l=o=null,function(y){for(var m=-1,F=d.length,x;++m<F;)c[(x=d[m]).i]=x.x(y);return c.join("")}}}var Sp=Bs(xp,"px, ","px)","deg)"),Cp=Bs(bp,", ",")",")"),Ye=0,rt=0,je=0,Ws=1e3,Ht,st,It=0,$e=0,Xt=0,ct=typeof performance=="object"&&performance.now?performance:Date,Qs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wr(){return $e||(Qs(kp),$e=ct.now()+Xt)}function kp(){$e=0}function Ot(){this._call=this._time=this._next=null}Ot.prototype=Gs.prototype={constructor:Ot,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?wr():+r)+(t==null?0:+t),!this._next&&st!==this&&(st?st._next=this:Ht=this,st=this),this._call=e,this._time=r,_r()},stop:function(){this._call&&(this._call=null,this._time=1/0,_r())}};function Gs(e,t,r){var s=new Ot;return s.restart(e,t,r),s}function Ap(){wr(),++Ye;for(var e=Ht,t;e;)(t=$e-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ye}function Gr(){$e=(It=ct.now())+Xt,Ye=rt=0;try{Ap()}finally{Ye=0,Ep(),$e=0}}function Lp(){var e=ct.now(),t=e-It;t>Ws&&(Xt-=t,It=e)}function Ep(){for(var e,t=Ht,r,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ht=r);st=e,_r(s)}function _r(e){if(!Ye){rt&&(rt=clearTimeout(rt));var t=e-$e;t>24?(e<1/0&&(rt=setTimeout(Gr,e-ct.now()-Xt)),je&&(je=clearInterval(je))):(je||(It=ct.now(),je=setInterval(Lp,Ws)),Ye=1,Qs(Gr))}}function Jr(e,t,r){var s=new Ot;return t=t==null?0:+t,s.restart(n=>{s.stop(),e(n+t)},t,r),s}var $p=Ls("start","end","cancel","interrupt"),Np=[],Js=0,Zr=1,or=2,Ct=3,jr=4,cr=5,kt=6;function Kt(e,t,r,s,n,a){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;Hp(e,r,{name:t,index:s,group:n,on:$p,tween:Np,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Js})}function Mr(e,t){var r=ue(e,t);if(r.state>Js)throw new Error("too late; already scheduled");return r}function ve(e,t){var r=ue(e,t);if(r.state>Ct)throw new Error("too late; already running");return r}function ue(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Hp(e,t,r){var s=e.__transition,n;s[t]=r,r.timer=Gs(a,0,r.time);function a(l){r.state=Zr,r.timer.restart(i,r.delay,r.time),r.delay<=l&&i(l-r.delay)}function i(l){var o,c,d,y;if(r.state!==Zr)return _();for(o in s)if(y=s[o],y.name===r.name){if(y.state===Ct)return Jr(i);y.state===jr?(y.state=kt,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete s[o]):+o<t&&(y.state=kt,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete s[o])}if(Jr(function(){r.state===Ct&&(r.state=jr,r.timer.restart(p,r.delay,r.time),p(l))}),r.state=or,r.on.call("start",e,e.__data__,r.index,r.group),r.state===or){for(r.state=Ct,n=new Array(d=r.tween.length),o=0,c=-1;o<d;++o)(y=r.tween[o].value.call(e,e.__data__,r.index,r.group))&&(n[++c]=y);n.length=c+1}}function p(l){for(var o=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(_),r.state=cr,1),c=-1,d=n.length;++c<d;)n[c].call(e,o);r.state===cr&&(r.on.call("end",e,e.__data__,r.index,r.group),_())}function _(){r.state=kt,r.timer.stop(),delete s[t];for(var l in s)return;delete e.__transition}}function Ip(e,t){var r=e.__transition,s,n,a=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((s=r[i]).name!==t){a=!1;continue}n=s.state>or&&s.state<cr,s.state=kt,s.timer.stop(),s.on.call(n?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[i]}a&&delete e.__transition}}function Op(e){return this.each(function(){Ip(this,e)})}function qp(e,t){var r,s;return function(){var n=ve(this,e),a=n.tween;if(a!==r){s=r=a;for(var i=0,p=s.length;i<p;++i)if(s[i].name===t){s=s.slice(),s.splice(i,1);break}}n.tween=s}}function Rp(e,t,r){var s,n;if(typeof r!="function")throw new Error;return function(){var a=ve(this,e),i=a.tween;if(i!==s){n=(s=i).slice();for(var p={name:t,value:r},_=0,l=n.length;_<l;++_)if(n[_].name===t){n[_]=p;break}_===l&&n.push(p)}a.tween=n}}function Vp(e,t){var r=this._id;if(e+="",arguments.length<2){for(var s=ue(this.node(),r).tween,n=0,a=s.length,i;n<a;++n)if((i=s[n]).name===e)return i.value;return null}return this.each((t==null?qp:Rp)(r,e,t))}function xr(e,t,r){var s=e._id;return e.each(function(){var n=ve(this,s);(n.value||(n.value={}))[t]=r.apply(this,arguments)}),function(n){return ue(n,s).value[t]}}function Zs(e,t){var r;return(typeof t=="number"?oe:t instanceof Ee?Nt:(r=Ee(t))?(t=r,Nt):Us)(e,t)}function Tp(e){return function(){this.removeAttribute(e)}}function Pp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dp(e,t,r){var s,n=r+"",a;return function(){var i=this.getAttribute(e);return i===n?null:i===s?a:a=t(s=i,r)}}function zp(e,t,r){var s,n=r+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===n?null:i===s?a:a=t(s=i,r)}}function Xp(e,t,r){var s,n,a;return function(){var i,p=r(this),_;return p==null?void this.removeAttribute(e):(i=this.getAttribute(e),_=p+"",i===_?null:i===s&&_===n?a:(n=_,a=t(s=i,p)))}}function Kp(e,t,r){var s,n,a;return function(){var i,p=r(this),_;return p==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),_=p+"",i===_?null:i===s&&_===n?a:(n=_,a=t(s=i,p)))}}function Up(e,t){var r=zt(e),s=r==="transform"?Cp:Zs;return this.attrTween(e,typeof t=="function"?(r.local?Kp:Xp)(r,s,xr(this,"attr."+e,t)):t==null?(r.local?Pp:Tp)(r):(r.local?zp:Dp)(r,s,t))}function Yp(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Bp(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Wp(e,t){var r,s;function n(){var a=t.apply(this,arguments);return a!==s&&(r=(s=a)&&Bp(e,a)),r}return n._value=t,n}function Qp(e,t){var r,s;function n(){var a=t.apply(this,arguments);return a!==s&&(r=(s=a)&&Yp(e,a)),r}return n._value=t,n}function Gp(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var s=zt(e);return this.tween(r,(s.local?Wp:Qp)(s,t))}function Jp(e,t){return function(){Mr(this,e).delay=+t.apply(this,arguments)}}function Zp(e,t){return t=+t,function(){Mr(this,e).delay=t}}function jp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Jp:Zp)(t,e)):ue(this.node(),t).delay}function el(e,t){return function(){ve(this,e).duration=+t.apply(this,arguments)}}function tl(e,t){return t=+t,function(){ve(this,e).duration=t}}function rl(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?el:tl)(t,e)):ue(this.node(),t).duration}function sl(e,t){if(typeof t!="function")throw new Error;return function(){ve(this,e).ease=t}}function nl(e){var t=this._id;return arguments.length?this.each(sl(t,e)):ue(this.node(),t).ease}function al(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ve(this,e).ease=r}}function il(e){if(typeof e!="function")throw new Error;return this.each(al(this._id,e))}function pl(e){typeof e!="function"&&(e=Hs(e));for(var t=this._groups,r=t.length,s=new Array(r),n=0;n<r;++n)for(var a=t[n],i=a.length,p=s[n]=[],_,l=0;l<i;++l)(_=a[l])&&e.call(_,_.__data__,l,a)&&p.push(_);return new xe(s,this._parents,this._name,this._id)}function ll(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,s=t.length,n=r.length,a=Math.min(s,n),i=new Array(s),p=0;p<a;++p)for(var _=t[p],l=r[p],o=_.length,c=i[p]=new Array(o),d,y=0;y<o;++y)(d=_[y]||l[y])&&(c[y]=d);for(;p<s;++p)i[p]=t[p];return new xe(i,this._parents,this._name,this._id)}function _l(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function ol(e,t,r){var s,n,a=_l(t)?Mr:ve;return function(){var i=a(this,e),p=i.on;p!==s&&(n=(s=p).copy()).on(t,r),i.on=n}}function cl(e,t){var r=this._id;return arguments.length<2?ue(this.node(),r).on.on(e):this.each(ol(r,e,t))}function hl(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function ul(){return this.on("end.remove",hl(this._id))}function fl(e){var t=this._name,r=this._id;typeof e!="function"&&(e=dr(e));for(var s=this._groups,n=s.length,a=new Array(n),i=0;i<n;++i)for(var p=s[i],_=p.length,l=a[i]=new Array(_),o,c,d=0;d<_;++d)(o=p[d])&&(c=e.call(o,o.__data__,d,p))&&("__data__"in o&&(c.__data__=o.__data__),l[d]=c,Kt(l[d],t,r,d,l,ue(o,r)));return new xe(a,this._parents,t,r)}function dl(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ns(e));for(var s=this._groups,n=s.length,a=[],i=[],p=0;p<n;++p)for(var _=s[p],l=_.length,o,c=0;c<l;++c)if(o=_[c]){for(var d=e.call(o,o.__data__,c,_),y,m=ue(o,r),F=0,x=d.length;F<x;++F)(y=d[F])&&Kt(y,t,r,F,d,m);a.push(d),i.push(o)}return new xe(a,i,t,r)}var yl=ht.prototype.constructor;function gl(){return new yl(this._groups,this._parents)}function vl(e,t){var r,s,n;return function(){var a=Ue(this,e),i=(this.style.removeProperty(e),Ue(this,e));return a===i?null:a===r&&i===s?n:n=t(r=a,s=i)}}function js(e){return function(){this.style.removeProperty(e)}}function ml(e,t,r){var s,n=r+"",a;return function(){var i=Ue(this,e);return i===n?null:i===s?a:a=t(s=i,r)}}function Fl(e,t,r){var s,n,a;return function(){var i=Ue(this,e),p=r(this),_=p+"";return p==null&&(_=p=(this.style.removeProperty(e),Ue(this,e))),i===_?null:i===s&&_===n?a:(n=_,a=t(s=i,p))}}function wl(e,t){var r,s,n,a="style."+t,i="end."+a,p;return function(){var _=ve(this,e),l=_.on,o=_.value[a]==null?p||(p=js(t)):void 0;(l!==r||n!==o)&&(s=(r=l).copy()).on(i,n=o),_.on=s}}function Ml(e,t,r){var s=(e+="")=="transform"?Sp:Zs;return t==null?this.styleTween(e,vl(e,s)).on("end.style."+e,js(e)):typeof t=="function"?this.styleTween(e,Fl(e,s,xr(this,"style."+e,t))).each(wl(this._id,e)):this.styleTween(e,ml(e,s,t),r).on("end.style."+e,null)}function xl(e,t,r){return function(s){this.style.setProperty(e,t.call(this,s),r)}}function bl(e,t,r){var s,n;function a(){var i=t.apply(this,arguments);return i!==n&&(s=(n=i)&&xl(e,i,r)),s}return a._value=t,a}function Sl(e,t,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,bl(e,t,r??""))}function Cl(e){return function(){this.textContent=e}}function kl(e){return function(){var t=e(this);this.textContent=t??""}}function Al(e){return this.tween("text",typeof e=="function"?kl(xr(this,"text",e)):Cl(e==null?"":e+""))}function Ll(e){return function(t){this.textContent=e.call(this,t)}}function El(e){var t,r;function s(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&Ll(n)),t}return s._value=e,s}function $l(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,El(e))}function Nl(){for(var e=this._name,t=this._id,r=en(),s=this._groups,n=s.length,a=0;a<n;++a)for(var i=s[a],p=i.length,_,l=0;l<p;++l)if(_=i[l]){var o=ue(_,t);Kt(_,e,r,l,i,{time:o.time+o.delay+o.duration,delay:0,duration:o.duration,ease:o.ease})}return new xe(s,this._parents,e,r)}function Hl(){var e,t,r=this,s=r._id,n=r.size();return new Promise(function(a,i){var p={value:i},_={value:function(){--n===0&&a()}};r.each(function(){var l=ve(this,s),o=l.on;o!==e&&(t=(e=o).copy(),t._.cancel.push(p),t._.interrupt.push(p),t._.end.push(_)),l.on=t}),n===0&&a()})}var Il=0;function xe(e,t,r,s){this._groups=e,this._parents=t,this._name=r,this._id=s}function en(){return++Il}var we=ht.prototype;xe.prototype={constructor:xe,select:fl,selectAll:dl,selectChild:we.selectChild,selectChildren:we.selectChildren,filter:pl,merge:ll,selection:gl,transition:Nl,call:we.call,nodes:we.nodes,node:we.node,size:we.size,empty:we.empty,each:we.each,on:cl,attr:Up,attrTween:Gp,style:Ml,styleTween:Sl,text:Al,textTween:$l,remove:ul,tween:Vp,delay:jp,duration:rl,ease:nl,easeVarying:il,end:Hl,[Symbol.iterator]:we[Symbol.iterator]};function Ol(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ql={time:null,delay:0,duration:250,ease:Ol};function Rl(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Vl(e){var t,r;e instanceof xe?(t=e._id,e=e._name):(t=en(),(r=ql).time=wr(),e=e==null?null:e+"");for(var s=this._groups,n=s.length,a=0;a<n;++a)for(var i=s[a],p=i.length,_,l=0;l<p;++l)(_=i[l])&&Kt(_,e,t,l,i,r||Rl(_,t));return new xe(s,this._parents,e,t)}ht.prototype.interrupt=Op;ht.prototype.transition=Vl;function Tl(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qt(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Be(e){return e=qt(Math.abs(e)),e?e[1]:NaN}function Pl(e,t){return function(r,s){for(var n=r.length,a=[],i=0,p=e[0],_=0;n>0&&p>0&&(_+p+1>s&&(p=Math.max(1,s-_)),a.push(r.substring(n-=p,n+p)),!((_+=p+1)>s));)p=e[i=(i+1)%e.length];return a.reverse().join(t)}}function Dl(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var zl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rt(e){if(!(t=zl.exec(e)))throw new Error("invalid format: "+e);var t;return new br({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rt.prototype=br.prototype;function br(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}br.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xl(e){e:for(var t=e.length,r=1,s=-1,n;r<t;++r)switch(e[r]){case".":s=n=r;break;case"0":s===0&&(s=r),n=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(n+1):e}var tn;function Kl(e,t){var r=qt(e,t);if(!r)return e+"";var s=r[0],n=r[1],a=n-(tn=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,i=s.length;return a===i?s:a>i?s+new Array(a-i+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+qt(e,Math.max(0,t+a-1))[0]}function es(e,t){var r=qt(e,t);if(!r)return e+"";var s=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+s:s.length>n+1?s.slice(0,n+1)+"."+s.slice(n+1):s+new Array(n-s.length+2).join("0")}const ts={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Tl,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>es(e*100,t),r:es,s:Kl,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rs(e){return e}var ss=Array.prototype.map,ns=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ul(e){var t=e.grouping===void 0||e.thousands===void 0?rs:Pl(ss.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?rs:Dl(ss.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"":e.minus+"",_=e.nan===void 0?"NaN":e.nan+"";function l(c){c=Rt(c);var d=c.fill,y=c.align,m=c.sign,F=c.symbol,x=c.zero,g=c.width,w=c.comma,L=c.precision,I=c.trim,N=c.type;N==="n"?(w=!0,N="g"):ts[N]||(L===void 0&&(L=12),I=!0,N="g"),(x||d==="0"&&y==="=")&&(x=!0,d="0",y="=");var q=F==="$"?r:F==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",O=F==="$"?s:/[%p]/.test(N)?i:"",E=ts[N],R=/[defgprs%]/.test(N);L=L===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function U($){var v=q,S=O,H,C,Y;if(N==="c")S=E($)+S,$="";else{$=+$;var J=$<0||1/$<0;if($=isNaN($)?_:E(Math.abs($),L),I&&($=Xl($)),J&&+$==0&&m!=="+"&&(J=!1),v=(J?m==="("?m:p:m==="-"||m==="("?"":m)+v,S=(N==="s"?ns[8+tn/3]:"")+S+(J&&m==="("?")":""),R){for(H=-1,C=$.length;++H<C;)if(Y=$.charCodeAt(H),48>Y||Y>57){S=(Y===46?n+$.slice(H+1):$.slice(H))+S,$=$.slice(0,H);break}}}w&&!x&&($=t($,1/0));var Z=v.length+$.length+S.length,V=Z<g?new Array(g-Z+1).join(d):"";switch(w&&x&&($=t(V+$,V.length?g-S.length:1/0),V=""),y){case"<":$=v+$+S+V;break;case"=":$=v+V+$+S;break;case"^":$=V.slice(0,Z=V.length>>1)+v+$+S+V.slice(Z);break;default:$=V+v+$+S;break}return a($)}return U.toString=function(){return c+""},U}function o(c,d){var y=l((c=Rt(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(Be(d)/3)))*3,F=Math.pow(10,-m),x=ns[8+m/3];return function(g){return y(F*g)+x}}return{format:l,formatPrefix:o}}var Ft,rn,sn;Yl({thousands:",",grouping:[3],currency:["$",""]});function Yl(e){return Ft=Ul(e),rn=Ft.format,sn=Ft.formatPrefix,Ft}function Bl(e){return Math.max(0,-Be(Math.abs(e)))}function Wl(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Be(t)/3)))*3-Be(Math.abs(e)))}function Ql(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Be(t)-Be(e))+1}function nn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const as=Symbol("implicit");function an(){var e=new Ir,t=[],r=[],s=as;function n(a){let i=e.get(a);if(i===void 0){if(s!==as)return s;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return n.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Ir;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return n},n.range=function(a){return arguments.length?(r=Array.from(a),n):r.slice()},n.unknown=function(a){return arguments.length?(s=a,n):s},n.copy=function(){return an(t,r).unknown(s)},nn.apply(n,arguments),n}function Gl(e){return function(){return e}}function Jl(e){return+e}var is=[0,1];function De(e){return e}function hr(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Gl(isNaN(t)?NaN:.5)}function Zl(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function jl(e,t,r){var s=e[0],n=e[1],a=t[0],i=t[1];return n<s?(s=hr(n,s),a=r(i,a)):(s=hr(s,n),a=r(a,i)),function(p){return a(s(p))}}function e_(e,t,r){var s=Math.min(e.length,t.length)-1,n=new Array(s),a=new Array(s),i=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<s;)n[i]=hr(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(p){var _=ra(e,p,1,s)-1;return a[_](n[_](p))}}function t_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function r_(){var e=is,t=is,r=Fr,s,n,a,i=De,p,_,l;function o(){var d=Math.min(e.length,t.length);return i!==De&&(i=Zl(e[0],e[d-1])),p=d>2?e_:jl,_=l=null,c}function c(d){return d==null||isNaN(d=+d)?a:(_||(_=p(e.map(s),t,r)))(s(i(d)))}return c.invert=function(d){return i(n((l||(l=p(t,e.map(s),oe)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,Jl),o()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),o()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),r=Mp,o()},c.clamp=function(d){return arguments.length?(i=d?!0:De,o()):i!==De},c.interpolate=function(d){return arguments.length?(r=d,o()):r},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,y){return s=d,n=y,o()}}function s_(){return r_()(De,De)}function n_(e,t,r,s){var n=oa(e,t,r),a;switch(s=Rt(s??",f"),s.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(a=Wl(n,i))&&(s.precision=a),sn(s,i)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=Ql(n,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=Bl(n))&&(s.precision=a-(s.type==="%")*2);break}}return rn(s)}function a_(e){var t=e.domain;return e.ticks=function(r){var s=t();return _a(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var n=t();return n_(n[0],n[n.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),n=0,a=s.length-1,i=s[n],p=s[a],_,l,o=10;for(p<i&&(l=i,i=p,p=l,l=n,n=a,a=l);o-- >0;){if(l=sr(i,p,r),l===_)return s[n]=i,s[a]=p,t(s);if(l>0)i=Math.floor(i/l)*l,p=Math.ceil(p/l)*l;else if(l<0)i=Math.ceil(i*l)/l,p=Math.floor(p*l)/l;else break;_=l}return e},e}function nt(){var e=s_();return e.copy=function(){return t_(e,nt())},nn.apply(e,arguments),a_(e)}function at(e,t,r){this.k=e,this.x=t,this.y=r}at.prototype={constructor:at,scale:function(e){return e===1?this:new at(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new at(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};at.prototype;function i_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pn(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),r}const p_=Object.prototype.toString;function Vt(e){const t=p_.call(e);return t.endsWith("Array]")&&!t.includes("Big")}function ln(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vt(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,s=r===void 0?0:r,n=t.toIndex,a=n===void 0?e.length:n;if(s<0||s>=e.length||!Number.isInteger(s))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=s||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var i=e[s],p=s+1;p<a;p++)e[p]>i&&(i=e[p]);return i}function l_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vt(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,s=r===void 0?0:r,n=t.toIndex,a=n===void 0?e.length:n;if(s<0||s>=e.length||!Number.isInteger(s))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=s||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var i=e[s],p=s+1;p<a;p++)e[p]<i&&(i=e[p]);return i}function ps(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Vt(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(t.output!==void 0){if(!Vt(t.output))throw new TypeError("output option must be an array if specified");r=t.output}else r=new Array(e.length);var s=l_(e),n=ln(e);if(s===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,i=a===void 0?t.autoMinMax?s:0:a,p=t.max,_=p===void 0?t.autoMinMax?n:1:p;if(i>=_)throw new RangeError("min option must be smaller than max option");for(var l=(_-i)/(n-s),o=0;o<e.length;o++)r[o]=(e[o]-s)*l+i;return r}class Tt{constructor(t){t=he.checkMatrix(t);var r=t.clone(),s=r.rows,n=r.columns,a=new Array(s),i=1,p,_,l,o,c,d,y,m,F;for(p=0;p<s;p++)a[p]=p;for(m=new Array(s),_=0;_<n;_++){for(p=0;p<s;p++)m[p]=r.get(p,_);for(p=0;p<s;p++){for(F=Math.min(p,_),c=0,l=0;l<F;l++)c+=r.get(p,l)*m[l];m[p]-=c,r.set(p,_,m[p])}for(o=_,p=_+1;p<s;p++)Math.abs(m[p])>Math.abs(m[o])&&(o=p);if(o!==_){for(l=0;l<n;l++)d=r.get(o,l),r.set(o,l,r.get(_,l)),r.set(_,l,d);y=a[o],a[o]=a[_],a[_]=y,i=-i}if(_<s&&r.get(_,_)!==0)for(p=_+1;p<s;p++)r.set(p,_,r.get(p,_)/r.get(_,_))}this.LU=r,this.pivotVector=a,this.pivotSign=i}isSingular(){for(var t=this.LU,r=t.columns,s=0;s<r;s++)if(t[s][s]===0)return!0;return!1}solve(t){t=D.checkMatrix(t);var r=this.LU,s=r.rows;if(s!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n=t.columns,a=t.subMatrixRow(this.pivotVector,0,n-1),i=r.columns,p,_,l;for(l=0;l<i;l++)for(p=l+1;p<i;p++)for(_=0;_<n;_++)a[p][_]-=a[l][_]*r[p][l];for(l=i-1;l>=0;l--){for(_=0;_<n;_++)a[l][_]/=r[l][l];for(p=0;p<l;p++)for(_=0;_<n;_++)a[p][_]-=a[l][_]*r[p][l]}return a}get determinant(){var t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");for(var r=this.pivotSign,s=t.columns,n=0;n<s;n++)r*=t[n][n];return r}get lowerTriangularMatrix(){for(var t=this.LU,r=t.rows,s=t.columns,n=new D(r,s),a=0;a<r;a++)for(var i=0;i<s;i++)a>i?n[a][i]=t[a][i]:a===i?n[a][i]=1:n[a][i]=0;return n}get upperTriangularMatrix(){for(var t=this.LU,r=t.rows,s=t.columns,n=new D(r,s),a=0;a<r;a++)for(var i=0;i<s;i++)a<=i?n[a][i]=t[a][i]:n[a][i]=0;return n}get pivotPermutationVector(){return this.pivotVector.slice()}}function Me(e,t){var r=0;return Math.abs(e)>Math.abs(t)?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):t!==0?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0}function Pt(e,t,r){for(var s=new Array(e),n=0;n<e;n++){s[n]=new Array(t);for(var a=0;a<t;a++)s[n][a]=r}return s}class We{constructor(t,r={}){t=he.checkMatrix(t);var s=t.rows,n=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:i=!0,autoTranspose:p=!1}=r;var _=!!a,l=!!i,o=!1,c;if(s<n)if(!p)c=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{c=t.transpose(),s=c.rows,n=c.columns,o=!0;var d=_;_=l,l=d}else c=t.clone();var y=Math.min(s,n),m=Math.min(s+1,n),F=new Array(m),x=Pt(s,y,0),g=Pt(n,n,0),w=new Array(n),L=new Array(s),I=new Array(m);for(let v=0;v<m;v++)I[v]=v;var N=Math.min(s-1,n),q=Math.max(0,Math.min(n-2,s)),O=Math.max(N,q);for(let v=0;v<O;v++){if(v<N){F[v]=0;for(let S=v;S<s;S++)F[v]=Me(F[v],c[S][v]);if(F[v]!==0){c[v][v]<0&&(F[v]=-F[v]);for(let S=v;S<s;S++)c[S][v]/=F[v];c[v][v]+=1}F[v]=-F[v]}for(let S=v+1;S<n;S++){if(v<N&&F[v]!==0){let H=0;for(let C=v;C<s;C++)H+=c[C][v]*c[C][S];H=-H/c[v][v];for(let C=v;C<s;C++)c[C][S]+=H*c[C][v]}w[S]=c[v][S]}if(_&&v<N)for(let S=v;S<s;S++)x[S][v]=c[S][v];if(v<q){w[v]=0;for(let S=v+1;S<n;S++)w[v]=Me(w[v],w[S]);if(w[v]!==0){w[v+1]<0&&(w[v]=0-w[v]);for(let S=v+1;S<n;S++)w[S]/=w[v];w[v+1]+=1}if(w[v]=-w[v],v+1<s&&w[v]!==0){for(let S=v+1;S<s;S++)L[S]=0;for(let S=v+1;S<s;S++)for(let H=v+1;H<n;H++)L[S]+=w[H]*c[S][H];for(let S=v+1;S<n;S++){let H=-w[S]/w[v+1];for(let C=v+1;C<s;C++)c[C][S]+=H*L[C]}}if(l)for(let S=v+1;S<n;S++)g[S][v]=w[S]}}let E=Math.min(n,s+1);if(N<n&&(F[N]=c[N][N]),s<E&&(F[E-1]=0),q+1<E&&(w[q]=c[q][E-1]),w[E-1]=0,_){for(let v=N;v<y;v++){for(let S=0;S<s;S++)x[S][v]=0;x[v][v]=1}for(let v=N-1;v>=0;v--)if(F[v]!==0){for(let S=v+1;S<y;S++){let H=0;for(let C=v;C<s;C++)H+=x[C][v]*x[C][S];H=-H/x[v][v];for(let C=v;C<s;C++)x[C][S]+=H*x[C][v]}for(let S=v;S<s;S++)x[S][v]=-x[S][v];x[v][v]=1+x[v][v];for(let S=0;S<v-1;S++)x[S][v]=0}else{for(let S=0;S<s;S++)x[S][v]=0;x[v][v]=1}}if(l)for(let v=n-1;v>=0;v--){if(v<q&&w[v]!==0)for(let S=v+1;S<n;S++){let H=0;for(let C=v+1;C<n;C++)H+=g[C][v]*g[C][S];H=-H/g[v+1][v];for(let C=v+1;C<n;C++)g[C][S]+=H*g[C][v]}for(let S=0;S<n;S++)g[S][v]=0;g[v][v]=1}for(var R=E-1,U=Number.EPSILON;E>0;){let v,S;for(v=E-2;v>=-1&&v!==-1;v--){const H=Number.MIN_VALUE+U*Math.abs(F[v]+Math.abs(F[v+1]));if(Math.abs(w[v])<=H||Number.isNaN(w[v])){w[v]=0;break}}if(v===E-2)S=4;else{let H;for(H=E-1;H>=v&&H!==v;H--){let C=(H!==E?Math.abs(w[H]):0)+(H!==v+1?Math.abs(w[H-1]):0);if(Math.abs(F[H])<=U*C){F[H]=0;break}}H===v?S=3:H===E-1?S=1:(S=2,v=H)}switch(v++,S){case 1:{let H=w[E-2];w[E-2]=0;for(let C=E-2;C>=v;C--){let Y=Me(F[C],H),J=F[C]/Y,Z=H/Y;if(F[C]=Y,C!==v&&(H=-Z*w[C-1],w[C-1]=J*w[C-1]),l)for(let V=0;V<n;V++)Y=J*g[V][C]+Z*g[V][E-1],g[V][E-1]=-Z*g[V][C]+J*g[V][E-1],g[V][C]=Y}break}case 2:{let H=w[v-1];w[v-1]=0;for(let C=v;C<E;C++){let Y=Me(F[C],H),J=F[C]/Y,Z=H/Y;if(F[C]=Y,H=-Z*w[C],w[C]=J*w[C],_)for(let V=0;V<s;V++)Y=J*x[V][C]+Z*x[V][v-1],x[V][v-1]=-Z*x[V][C]+J*x[V][v-1],x[V][C]=Y}break}case 3:{const H=Math.max(Math.abs(F[E-1]),Math.abs(F[E-2]),Math.abs(w[E-2]),Math.abs(F[v]),Math.abs(w[v])),C=F[E-1]/H,Y=F[E-2]/H,J=w[E-2]/H,Z=F[v]/H,V=w[v]/H,me=((Y+C)*(Y-C)+J*J)/2,j=C*J*(C*J);let te=0;(me!==0||j!==0)&&(me<0?te=0-Math.sqrt(me*me+j):te=Math.sqrt(me*me+j),te=j/(me+te));let h=(Z+C)*(Z-C)+te,f=Z*V;for(let u=v;u<E-1;u++){let M=Me(h,f);M===0&&(M=Number.MIN_VALUE);let b=h/M,k=f/M;if(u!==v&&(w[u-1]=M),h=b*F[u]+k*w[u],w[u]=b*w[u]-k*F[u],f=k*F[u+1],F[u+1]=b*F[u+1],l)for(let A=0;A<n;A++)M=b*g[A][u]+k*g[A][u+1],g[A][u+1]=-k*g[A][u]+b*g[A][u+1],g[A][u]=M;if(M=Me(h,f),M===0&&(M=Number.MIN_VALUE),b=h/M,k=f/M,F[u]=M,h=b*w[u]+k*F[u+1],F[u+1]=-k*w[u]+b*F[u+1],f=k*w[u+1],w[u+1]=b*w[u+1],_&&u<s-1)for(let A=0;A<s;A++)M=b*x[A][u]+k*x[A][u+1],x[A][u+1]=-k*x[A][u]+b*x[A][u+1],x[A][u]=M}w[E-2]=h;break}case 4:{if(F[v]<=0&&(F[v]=F[v]<0?-F[v]:0,l))for(let H=0;H<=R;H++)g[H][v]=-g[H][v];for(;v<R&&!(F[v]>=F[v+1]);){let H=F[v];if(F[v]=F[v+1],F[v+1]=H,l&&v<n-1)for(let C=0;C<n;C++)H=g[C][v+1],g[C][v+1]=g[C][v],g[C][v]=H;if(_&&v<s-1)for(let C=0;C<s;C++)H=x[C][v+1],x[C][v+1]=x[C][v],x[C][v]=H;v++}E--;break}}}if(o){var $=g;g=x,x=$}this.m=s,this.n=n,this.s=F,this.U=x,this.V=g}solve(t){var r=t,s=this.threshold,n=this.s.length,a=D.zeros(n,n);for(let d=0;d<n;d++)Math.abs(this.s[d])<=s?a[d][d]=0:a[d][d]=1/this.s[d];var i=this.U,p=this.rightSingularVectors,_=p.mmul(a),l=p.rows,o=i.length,c=D.zeros(l,o);for(let d=0;d<l;d++)for(let y=0;y<o;y++){let m=0;for(let F=0;F<n;F++)m+=_[d][F]*i[y][F];c[d][y]=m}return c.mmul(r)}solveForDiagonal(t){return this.solve(D.diag(t))}inverse(){var t=this.V,r=this.threshold,s=t.length,n=t[0].length,a=new D(s,this.s.length);for(let o=0;o<s;o++)for(let c=0;c<n;c++)Math.abs(this.s[c])>r?a[o][c]=t[o][c]/this.s[c]:a[o][c]=0;var i=this.U,p=i.length,_=i[0].length,l=new D(s,p);for(let o=0;o<s;o++)for(let c=0;c<p;c++){let d=0;for(let y=0;y<_;y++)d+=a[o][y]*i[c][y];l[o][c]=d}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,s=this.s,n=0,a=s.length;n<a;n++)s[n]>t&&r++;return r}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return D.isMatrix(this.U)||(this.U=new D(this.U)),this.U}get rightSingularVectors(){return D.isMatrix(this.V)||(this.V=new D(this.V)),this.V}get diagonalMatrix(){return D.diag(this.s)}}function pe(e,t,r){var s=r?e.rows:e.rows-1;if(t<0||t>s)throw new RangeError("Row index out of range")}function le(e,t,r){var s=r?e.columns:e.columns-1;if(t<0||t>s)throw new RangeError("Column index out of range")}function Te(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function Pe(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function _n(e,t,r){return{row:on(e,t),column:cn(e,r)}}function on(e,t){if(typeof t!="object")throw new TypeError("unexpected type for row indices");var r=t.some(s=>s<0||s>=e.rows);if(r)throw new RangeError("row indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function cn(e,t){if(typeof t!="object")throw new TypeError("unexpected type for column indices");var r=t.some(s=>s<0||s>=e.columns);if(r)throw new RangeError("column indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function ur(e,t,r,s,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(wt("startRow",t),wt("endRow",r),wt("startColumn",s),wt("endColumn",n),t>r||s>n||t<0||t>=e.rows||r<0||r>=e.rows||s<0||s>=e.columns||n<0||n>=e.columns)throw new RangeError("Submatrix indices are out of range")}function __(e){for(var t=D.zeros(e.rows,1),r=0;r<e.rows;++r)for(var s=0;s<e.columns;++s)t.set(r,0,t.get(r,0)+e.get(r,s));return t}function o_(e){for(var t=D.zeros(1,e.columns),r=0;r<e.rows;++r)for(var s=0;s<e.columns;++s)t.set(0,s,t.get(0,s)+e.get(r,s));return t}function c_(e){for(var t=0,r=0;r<e.rows;r++)for(var s=0;s<e.columns;s++)t+=e.get(r,s);return t}function wt(e,t){if(typeof t!="number")throw new TypeError(`${e} must be a number`)}class be extends ft(){constructor(t,r,s){super(),this.matrix=t,this.rows=r,this.columns=s}static get[Symbol.species](){return D}}class h_ extends be{constructor(t){super(t,t.columns,t.rows)}set(t,r,s){return this.matrix.set(r,t,s),this}get(t,r){return this.matrix.get(r,t)}}class u_ extends be{constructor(t,r){super(t,1,t.columns),this.row=r}set(t,r,s){return this.matrix.set(this.row,r,s),this}get(t,r){return this.matrix.get(this.row,r)}}class f_ extends be{constructor(t,r,s,n,a){ur(t,r,s,n,a),super(t,s-r+1,a-n+1),this.startRow=r,this.startColumn=n}set(t,r,s){return this.matrix.set(this.startRow+t,this.startColumn+r,s),this}get(t,r){return this.matrix.get(this.startRow+t,this.startColumn+r)}}class d_ extends be{constructor(t,r,s){var n=_n(t,r,s);super(t,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(t,r,s){return this.matrix.set(this.rowIndices[t],this.columnIndices[r],s),this}get(t,r){return this.matrix.get(this.rowIndices[t],this.columnIndices[r])}}class y_ extends be{constructor(t,r){r=on(t,r),super(t,r.length,t.columns),this.rowIndices=r}set(t,r,s){return this.matrix.set(this.rowIndices[t],r,s),this}get(t,r){return this.matrix.get(this.rowIndices[t],r)}}class g_ extends be{constructor(t,r){r=cn(t,r),super(t,t.rows,r.length),this.columnIndices=r}set(t,r,s){return this.matrix.set(t,this.columnIndices[r],s),this}get(t,r){return this.matrix.get(t,this.columnIndices[r])}}class v_ extends be{constructor(t,r){super(t,t.rows,1),this.column=r}set(t,r,s){return this.matrix.set(t,this.column,s),this}get(t){return this.matrix.get(t,this.column)}}class m_ extends be{constructor(t){super(t,t.rows,t.columns)}set(t,r,s){return this.matrix.set(this.rows-t-1,r,s),this}get(t,r){return this.matrix.get(this.rows-t-1,r)}}class F_ extends be{constructor(t){super(t,t.rows,t.columns)}set(t,r,s){return this.matrix.set(t,this.columns-r-1,s),this}get(t,r){return this.matrix.get(t,this.columns-r-1)}}function ft(e){e===void 0&&(e=Object);class t extends e{static get[Symbol.species](){return this}static from1DArray(h,f,u){var M=h*f;if(M!==u.length)throw new RangeError("Data length does not match given dimensions");for(var b=new this(h,f),k=0;k<h;k++)for(var A=0;A<f;A++)b.set(k,A,u[k*f+A]);return b}static rowVector(h){for(var f=new this(1,h.length),u=0;u<h.length;u++)f.set(0,u,h[u]);return f}static columnVector(h){for(var f=new this(h.length,1),u=0;u<h.length;u++)f.set(u,0,h[u]);return f}static empty(h,f){return new this(h,f)}static zeros(h,f){return this.empty(h,f).fill(0)}static ones(h,f){return this.empty(h,f).fill(1)}static rand(h,f,u){u===void 0&&(u=Math.random);for(var M=this.empty(h,f),b=0;b<h;b++)for(var k=0;k<f;k++)M.set(b,k,u());return M}static randInt(h,f,u,M){u===void 0&&(u=1e3),M===void 0&&(M=Math.random);for(var b=this.empty(h,f),k=0;k<h;k++)for(var A=0;A<f;A++){var T=Math.floor(M()*u);b.set(k,A,T)}return b}static eye(h,f,u){f===void 0&&(f=h),u===void 0&&(u=1);for(var M=Math.min(h,f),b=this.zeros(h,f),k=0;k<M;k++)b.set(k,k,u);return b}static diag(h,f,u){var M=h.length;f===void 0&&(f=M),u===void 0&&(u=f);for(var b=Math.min(M,f,u),k=this.zeros(f,u),A=0;A<b;A++)k.set(A,A,h[A]);return k}static min(h,f){h=this.checkMatrix(h),f=this.checkMatrix(f);for(var u=h.rows,M=h.columns,b=new this(u,M),k=0;k<u;k++)for(var A=0;A<M;A++)b.set(k,A,Math.min(h.get(k,A),f.get(k,A)));return b}static max(h,f){h=this.checkMatrix(h),f=this.checkMatrix(f);for(var u=h.rows,M=h.columns,b=new this(u,M),k=0;k<u;k++)for(var A=0;A<M;A++)b.set(k,A,Math.max(h.get(k,A),f.get(k,A)));return b}static checkMatrix(h){return t.isMatrix(h)?h:new this(h)}static isMatrix(h){return h!=null&&h.klass==="Matrix"}get size(){return this.rows*this.columns}apply(h){if(typeof h!="function")throw new TypeError("callback must be a function");for(var f=this.rows,u=this.columns,M=0;M<f;M++)for(var b=0;b<u;b++)h.call(this,M,b);return this}to1DArray(){for(var h=new Array(this.size),f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)h[f*this.columns+u]=this.get(f,u);return h}to2DArray(){for(var h=new Array(this.rows),f=0;f<this.rows;f++){h[f]=new Array(this.columns);for(var u=0;u<this.columns;u++)h[f][u]=this.get(f,u)}return h}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var h=0;h<this.rows;h++)for(var f=0;f<=h;f++)if(this.get(h,f)!==this.get(f,h))return!1;return!0}return!1}isEchelonForm(){let h=0,f=0,u=-1,M=!0,b=!1;for(;h<this.rows&&M;){for(f=0,b=!1;f<this.columns&&b===!1;)this.get(h,f)===0?f++:this.get(h,f)===1&&f>u?(b=!0,u=f):(M=!1,b=!0);h++}return M}isReducedEchelonForm(){let h=0,f=0,u=-1,M=!0,b=!1;for(;h<this.rows&&M;){for(f=0,b=!1;f<this.columns&&b===!1;)this.get(h,f)===0?f++:this.get(h,f)===1&&f>u?(b=!0,u=f):(M=!1,b=!0);for(let k=f+1;k<this.rows;k++)this.get(h,k)!==0&&(M=!1);h++}return M}set(h,f,u){throw new Error("set method is unimplemented")}get(h,f){throw new Error("get method is unimplemented")}repeat(h,f){h=h||1,f=f||1;for(var u=new this.constructor[Symbol.species](this.rows*h,this.columns*f),M=0;M<h;M++)for(var b=0;b<f;b++)u.setSubMatrix(this,this.rows*M,this.columns*b);return u}fill(h){for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,h);return this}neg(){return this.mulS(-1)}getRow(h){pe(this,h);for(var f=new Array(this.columns),u=0;u<this.columns;u++)f[u]=this.get(h,u);return f}getRowVector(h){return this.constructor.rowVector(this.getRow(h))}setRow(h,f){pe(this,h),f=Te(this,f);for(var u=0;u<this.columns;u++)this.set(h,u,f[u]);return this}swapRows(h,f){pe(this,h),pe(this,f);for(var u=0;u<this.columns;u++){var M=this.get(h,u);this.set(h,u,this.get(f,u)),this.set(f,u,M)}return this}getColumn(h){le(this,h);for(var f=new Array(this.rows),u=0;u<this.rows;u++)f[u]=this.get(u,h);return f}getColumnVector(h){return this.constructor.columnVector(this.getColumn(h))}setColumn(h,f){le(this,h),f=Pe(this,f);for(var u=0;u<this.rows;u++)this.set(u,h,f[u]);return this}swapColumns(h,f){le(this,h),le(this,f);for(var u=0;u<this.rows;u++){var M=this.get(u,h);this.set(u,h,this.get(u,f)),this.set(u,f,M)}return this}addRowVector(h){h=Te(this,h);for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,this.get(f,u)+h[u]);return this}subRowVector(h){h=Te(this,h);for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,this.get(f,u)-h[u]);return this}mulRowVector(h){h=Te(this,h);for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,this.get(f,u)*h[u]);return this}divRowVector(h){h=Te(this,h);for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,this.get(f,u)/h[u]);return this}addColumnVector(h){h=Pe(this,h);for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,this.get(f,u)+h[f]);return this}subColumnVector(h){h=Pe(this,h);for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,this.get(f,u)-h[f]);return this}mulColumnVector(h){h=Pe(this,h);for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,this.get(f,u)*h[f]);return this}divColumnVector(h){h=Pe(this,h);for(var f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.set(f,u,this.get(f,u)/h[f]);return this}mulRow(h,f){pe(this,h);for(var u=0;u<this.columns;u++)this.set(h,u,this.get(h,u)*f);return this}mulColumn(h,f){le(this,h);for(var u=0;u<this.rows;u++)this.set(u,h,this.get(u,h)*f);return this}max(){for(var h=this.get(0,0),f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.get(f,u)>h&&(h=this.get(f,u));return h}maxIndex(){for(var h=this.get(0,0),f=[0,0],u=0;u<this.rows;u++)for(var M=0;M<this.columns;M++)this.get(u,M)>h&&(h=this.get(u,M),f[0]=u,f[1]=M);return f}min(){for(var h=this.get(0,0),f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)this.get(f,u)<h&&(h=this.get(f,u));return h}minIndex(){for(var h=this.get(0,0),f=[0,0],u=0;u<this.rows;u++)for(var M=0;M<this.columns;M++)this.get(u,M)<h&&(h=this.get(u,M),f[0]=u,f[1]=M);return f}maxRow(h){pe(this,h);for(var f=this.get(h,0),u=1;u<this.columns;u++)this.get(h,u)>f&&(f=this.get(h,u));return f}maxRowIndex(h){pe(this,h);for(var f=this.get(h,0),u=[h,0],M=1;M<this.columns;M++)this.get(h,M)>f&&(f=this.get(h,M),u[1]=M);return u}minRow(h){pe(this,h);for(var f=this.get(h,0),u=1;u<this.columns;u++)this.get(h,u)<f&&(f=this.get(h,u));return f}minRowIndex(h){pe(this,h);for(var f=this.get(h,0),u=[h,0],M=1;M<this.columns;M++)this.get(h,M)<f&&(f=this.get(h,M),u[1]=M);return u}maxColumn(h){le(this,h);for(var f=this.get(0,h),u=1;u<this.rows;u++)this.get(u,h)>f&&(f=this.get(u,h));return f}maxColumnIndex(h){le(this,h);for(var f=this.get(0,h),u=[0,h],M=1;M<this.rows;M++)this.get(M,h)>f&&(f=this.get(M,h),u[0]=M);return u}minColumn(h){le(this,h);for(var f=this.get(0,h),u=1;u<this.rows;u++)this.get(u,h)<f&&(f=this.get(u,h));return f}minColumnIndex(h){le(this,h);for(var f=this.get(0,h),u=[0,h],M=1;M<this.rows;M++)this.get(M,h)<f&&(f=this.get(M,h),u[0]=M);return u}diag(){for(var h=Math.min(this.rows,this.columns),f=new Array(h),u=0;u<h;u++)f[u]=this.get(u,u);return f}sum(h){switch(h){case"row":return __(this);case"column":return o_(this);default:return c_(this)}}mean(){return this.sum()/this.size}prod(){for(var h=1,f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)h*=this.get(f,u);return h}norm(h="frobenius"){var f=0;if(h==="max")return this.max();if(h==="frobenius"){for(var u=0;u<this.rows;u++)for(var M=0;M<this.columns;M++)f=f+this.get(u,M)*this.get(u,M);return Math.sqrt(f)}else throw new RangeError(`unknown norm type: ${h}`)}cumulativeSum(){for(var h=0,f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)h+=this.get(f,u),this.set(f,u,h);return this}dot(h){t.isMatrix(h)&&(h=h.to1DArray());var f=this.to1DArray();if(f.length!==h.length)throw new RangeError("vectors do not have the same size");for(var u=0,M=0;M<f.length;M++)u+=f[M]*h[M];return u}mmul(h){h=this.constructor.checkMatrix(h),this.columns!==h.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");for(var f=this.rows,u=this.columns,M=h.columns,b=new this.constructor[Symbol.species](f,M),k=new Array(u),A=0;A<M;A++){for(var T=0;T<u;T++)k[T]=h.get(T,A);for(var B=0;B<f;B++){var z=0;for(T=0;T<u;T++)z+=this.get(B,T)*k[T];b.set(B,A,z)}}return b}strassen2x2(h){var f=new this.constructor[Symbol.species](2,2);const u=this.get(0,0),M=h.get(0,0),b=this.get(0,1),k=h.get(0,1),A=this.get(1,0),T=h.get(1,0),B=this.get(1,1),z=h.get(1,1),P=(u+B)*(M+z),X=(A+B)*M,Q=u*(k-z),G=B*(T-M),W=(u+b)*z,K=(A-u)*(M+k),re=(b-B)*(T+z),se=P+G-W+re,fe=Q+W,de=X+G,Ne=P-X+Q+K;return f.set(0,0,se),f.set(0,1,fe),f.set(1,0,de),f.set(1,1,Ne),f}strassen3x3(h){var f=new this.constructor[Symbol.species](3,3);const u=this.get(0,0),M=this.get(0,1),b=this.get(0,2),k=this.get(1,0),A=this.get(1,1),T=this.get(1,2),B=this.get(2,0),z=this.get(2,1),P=this.get(2,2),X=h.get(0,0),Q=h.get(0,1),G=h.get(0,2),W=h.get(1,0),K=h.get(1,1),re=h.get(1,2),se=h.get(2,0),fe=h.get(2,1),de=h.get(2,2),Ne=(u+M+b-k-A-z-P)*K,Qe=(u-k)*(-Q+K),He=A*(-X+Q+W-K-re-se+de),Se=(-u+k+A)*(X-Q+K),Ge=(k+A)*(-X+Q),ye=u*X,Ie=(-u+B+z)*(X-G+re),Je=(-u+B)*(G-re),Ze=(B+z)*(-X+G),Ut=(u+M+b-A-T-B-z)*re,Yt=z*(-X+G+W-K-re-se+fe),ae=(-b+z+P)*(K+se-fe),yt=(b-P)*(K-fe),Fe=b*se,Oe=(z+P)*(-se+fe),ie=(-b+A+T)*(re+se-de),kr=(b-T)*(re-de),Ar=(A+T)*(-se+de),mn=M*W,Fn=T*fe,wn=k*G,Mn=B*Q,xn=P*de,bn=ye+Fe+mn,Sn=Ne+Se+Ge+ye+ae+Fe+Oe,Cn=ye+Ie+Ze+Ut+Fe+ie+Ar,kn=Qe+He+Se+ye+Fe+ie+kr,An=Qe+Se+Ge+ye+Fn,Ln=Fe+ie+kr+Ar+wn,En=ye+Ie+Je+Yt+ae+yt+Fe,$n=ae+yt+Fe+Oe+Mn,Nn=ye+Ie+Je+Ze+xn;return f.set(0,0,bn),f.set(0,1,Sn),f.set(0,2,Cn),f.set(1,0,kn),f.set(1,1,An),f.set(1,2,Ln),f.set(2,0,En),f.set(2,1,$n),f.set(2,2,Nn),f}mmulStrassen(h){var f=this.clone(),u=f.rows,M=f.columns,b=h.rows,k=h.columns;M!==b&&console.warn(`Multiplying ${u} x ${M} and ${b} x ${k} matrix: dimensions do not match.`);function A(P,X,Q){var G=P.rows,W=P.columns;if(G===X&&W===Q)return P;var K=t.zeros(X,Q);return K=K.setSubMatrix(P,0,0),K}var T=Math.max(u,b),B=Math.max(M,k);f=A(f,T,B),h=A(h,T,B);function z(P,X,Q,G){if(Q<=512||G<=512)return P.mmul(X);Q%2===1&&G%2===1?(P=A(P,Q+1,G+1),X=A(X,Q+1,G+1)):Q%2===1?(P=A(P,Q+1,G),X=A(X,Q+1,G)):G%2===1&&(P=A(P,Q,G+1),X=A(X,Q,G+1));var W=parseInt(P.rows/2,10),K=parseInt(P.columns/2,10),re=P.subMatrix(0,W-1,0,K-1),se=X.subMatrix(0,W-1,0,K-1),fe=P.subMatrix(0,W-1,K,P.columns-1),de=X.subMatrix(0,W-1,K,X.columns-1),Ne=P.subMatrix(W,P.rows-1,0,K-1),Qe=X.subMatrix(W,X.rows-1,0,K-1),He=P.subMatrix(W,P.rows-1,K,P.columns-1),Se=X.subMatrix(W,X.rows-1,K,X.columns-1),Ge=z(t.add(re,He),t.add(se,Se),W,K),ye=z(t.add(Ne,He),se,W,K),Ie=z(re,t.sub(de,Se),W,K),Je=z(He,t.sub(Qe,se),W,K),Ze=z(t.add(re,fe),Se,W,K),Ut=z(t.sub(Ne,re),t.add(se,de),W,K),Yt=z(t.sub(fe,He),t.add(Qe,Se),W,K),ae=t.add(Ge,Je);ae.sub(Ze),ae.add(Yt);var yt=t.add(Ie,Ze),Fe=t.add(ye,Je),Oe=t.sub(Ge,ye);Oe.add(Ie),Oe.add(Ut);var ie=t.zeros(2*ae.rows,2*ae.columns);return ie=ie.setSubMatrix(ae,0,0),ie=ie.setSubMatrix(yt,ae.rows,0),ie=ie.setSubMatrix(Fe,0,ae.columns),ie=ie.setSubMatrix(Oe,ae.rows,ae.columns),ie.subMatrix(0,Q-1,0,G-1)}return z(f,h,T,B)}scaleRows(h,f){if(h=h===void 0?0:h,f=f===void 0?1:f,h>=f)throw new RangeError("min should be strictly smaller than max");for(var u=this.constructor.empty(this.rows,this.columns),M=0;M<this.rows;M++){var b=ps(this.getRow(M),{min:h,max:f});u.setRow(M,b)}return u}scaleColumns(h,f){if(h=h===void 0?0:h,f=f===void 0?1:f,h>=f)throw new RangeError("min should be strictly smaller than max");for(var u=this.constructor.empty(this.rows,this.columns),M=0;M<this.columns;M++){var b=ps(this.getColumn(M),{min:h,max:f});u.setColumn(M,b)}return u}kroneckerProduct(h){h=this.constructor.checkMatrix(h);for(var f=this.rows,u=this.columns,M=h.rows,b=h.columns,k=new this.constructor[Symbol.species](f*M,u*b),A=0;A<f;A++)for(var T=0;T<u;T++)for(var B=0;B<M;B++)for(var z=0;z<b;z++)k[M*A+B][b*T+z]=this.get(A,T)*h.get(B,z);return k}transpose(){for(var h=new this.constructor[Symbol.species](this.columns,this.rows),f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)h.set(u,f,this.get(f,u));return h}sortRows(h){h===void 0&&(h=r);for(var f=0;f<this.rows;f++)this.setRow(f,this.getRow(f).sort(h));return this}sortColumns(h){h===void 0&&(h=r);for(var f=0;f<this.columns;f++)this.setColumn(f,this.getColumn(f).sort(h));return this}subMatrix(h,f,u,M){ur(this,h,f,u,M);for(var b=new this.constructor[Symbol.species](f-h+1,M-u+1),k=h;k<=f;k++)for(var A=u;A<=M;A++)b[k-h][A-u]=this.get(k,A);return b}subMatrixRow(h,f,u){if(f===void 0&&(f=0),u===void 0&&(u=this.columns-1),f>u||f<0||f>=this.columns||u<0||u>=this.columns)throw new RangeError("Argument out of range");for(var M=new this.constructor[Symbol.species](h.length,u-f+1),b=0;b<h.length;b++)for(var k=f;k<=u;k++){if(h[b]<0||h[b]>=this.rows)throw new RangeError(`Row index out of range: ${h[b]}`);M.set(b,k-f,this.get(h[b],k))}return M}subMatrixColumn(h,f,u){if(f===void 0&&(f=0),u===void 0&&(u=this.rows-1),f>u||f<0||f>=this.rows||u<0||u>=this.rows)throw new RangeError("Argument out of range");for(var M=new this.constructor[Symbol.species](u-f+1,h.length),b=0;b<h.length;b++)for(var k=f;k<=u;k++){if(h[b]<0||h[b]>=this.columns)throw new RangeError(`Column index out of range: ${h[b]}`);M.set(k-f,b,this.get(k,h[b]))}return M}setSubMatrix(h,f,u){h=this.constructor.checkMatrix(h);var M=f+h.rows-1,b=u+h.columns-1;ur(this,f,M,u,b);for(var k=0;k<h.rows;k++)for(var A=0;A<h.columns;A++)this[f+k][u+A]=h.get(k,A);return this}selection(h,f){for(var u=_n(this,h,f),M=new this.constructor[Symbol.species](h.length,f.length),b=0;b<u.row.length;b++)for(var k=u.row[b],A=0;A<u.column.length;A++){var T=u.column[A];M[b][A]=this.get(k,T)}return M}trace(){for(var h=Math.min(this.rows,this.columns),f=0,u=0;u<h;u++)f+=this.get(u,u);return f}transposeView(){return new h_(this)}rowView(h){return pe(this,h),new u_(this,h)}columnView(h){return le(this,h),new v_(this,h)}flipRowView(){return new m_(this)}flipColumnView(){return new F_(this)}subMatrixView(h,f,u,M){return new f_(this,h,f,u,M)}selectionView(h,f){return new d_(this,h,f)}rowSelectionView(h){return new y_(this,h)}columnSelectionView(h){return new g_(this,h)}det(){if(this.isSquare()){var h,f,u,M;if(this.columns===2)return h=this.get(0,0),f=this.get(0,1),u=this.get(1,0),M=this.get(1,1),h*M-f*u;if(this.columns===3){var b,k,A;return b=this.selectionView([1,2],[1,2]),k=this.selectionView([1,2],[0,2]),A=this.selectionView([1,2],[0,1]),h=this.get(0,0),f=this.get(0,1),u=this.get(0,2),h*b.det()-f*k.det()+u*A.det()}else return new Tt(this).determinant}else throw Error("Determinant can only be calculated for a square matrix.")}pseudoInverse(h){h===void 0&&(h=Number.EPSILON);for(var f=new We(this,{autoTranspose:!0}),u=f.leftSingularVectors,M=f.rightSingularVectors,b=f.diagonal,k=0;k<b.length;k++)Math.abs(b[k])>h?b[k]=1/b[k]:b[k]=0;return b=this.constructor[Symbol.species].diag(b),M.mmul(b.mmul(u.transposeView()))}clone(){for(var h=new this.constructor[Symbol.species](this.rows,this.columns),f=0;f<this.rows;f++)for(var u=0;u<this.columns;u++)h.set(f,u,this.get(f,u));return h}}t.prototype.klass="Matrix";function r(te,h){return te-h}t.random=t.rand,t.diagonal=t.diag,t.prototype.diagonal=t.prototype.diag,t.identity=t.eye,t.prototype.negate=t.prototype.neg,t.prototype.tensorProduct=t.prototype.kroneckerProduct,t.prototype.determinant=t.prototype.det;var s=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,n=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,a=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,i=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,p=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,_=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,l=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,o=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,c=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,d=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    if (this.rows !== matrix.rows ||
        this.columns !== matrix.columns) {
        throw new RangeError('Matrices dimensions must be equal');
    }
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,y=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,m=o,F=[["+","add"],["-","sub","subtract"],["*","mul","multiply"],["/","div","divide"],["%","mod","modulus"],["&","and"],["|","or"],["^","xor"],["<<","leftShift"],[">>","signPropagatingRightShift"],[">>>","rightShift","zeroFillRightShift"]],x,g=eval;for(var w of F){var L=g(j(s,{name:w[1],op:w[0]})),I=g(j(n,{name:`${w[1]}S`,op:w[0]})),N=g(j(a,{name:`${w[1]}M`,op:w[0]})),q=g(j(i,{name:w[1]}));for(x=1;x<w.length;x++)t.prototype[w[x]]=L,t.prototype[`${w[x]}S`]=I,t.prototype[`${w[x]}M`]=N,t[w[x]]=q}var O=[["~","not"]];["abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].forEach(function(te){O.push([`Math.${te}`,te])});for(var E of O){var R=g(j(p,{name:E[1],method:E[0]})),U=g(j(_,{name:E[1]}));for(x=1;x<E.length;x++)t.prototype[E[x]]=R,t[E[x]]=U}var $=[["Math.pow",1,"pow"]];for(var v of $){var S="arg0";for(x=1;x<v[1];x++)S+=`, arg${x}`;if(v[1]!==1){var H=g(j(l,{name:v[2],method:v[0],args:S})),C=g(j(o,{name:v[2],args:S}));for(x=2;x<v.length;x++)t.prototype[v[x]]=H,t[v[x]]=C}else{var Y={name:v[2],args:S,method:v[0]},J=g(j(y,Y)),Z=g(j(c,Y)),V=g(j(d,Y)),me=g(j(m,Y));for(x=2;x<v.length;x++)t.prototype[v[x]]=J,t.prototype[`${v[x]}M`]=V,t.prototype[`${v[x]}S`]=Z,t[v[x]]=me}}function j(te,h){for(var f in h)te=te.replace(new RegExp(`%${f}%`,"g"),h[f]);return te}return t}let D=class hn extends ft(Array){constructor(t,r){var s;if(arguments.length===1&&typeof t=="number")return new Array(t);if(hn.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0)if(super(t),Number.isInteger(r)&&r>0)for(s=0;s<t;s++)this[s]=new Array(r);else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(t)){const n=t;if(t=n.length,r=n[0].length,typeof r!="number"||r===0)throw new TypeError("Data must be a 2D array with at least one element");for(super(t),s=0;s<t;s++){if(n[s].length!==r)throw new RangeError("Inconsistent array dimensions");this[s]=[].concat(n[s])}}else throw new TypeError("First argument must be a positive number or an array");return this.rows=t,this.columns=r,this}set(t,r,s){return this[t][r]=s,this}get(t,r){return this[t][r]}removeRow(t){if(pe(this,t),this.rows===1)throw new RangeError("A matrix cannot have less than one row");return this.splice(t,1),this.rows-=1,this}addRow(t,r){return r===void 0&&(r=t,t=this.rows),pe(this,t,!0),r=Te(this,r),this.splice(t,0,r),this.rows+=1,this}removeColumn(t){if(le(this,t),this.columns===1)throw new RangeError("A matrix cannot have less than one column");for(var r=0;r<this.rows;r++)this[r].splice(t,1);return this.columns-=1,this}addColumn(t,r){typeof r>"u"&&(r=t,t=this.columns),le(this,t,!0),r=Pe(this,r);for(var s=0;s<this.rows;s++)this[s].splice(t,0,r[s]);return this.columns+=1,this}};class un extends ft(){constructor(t,r={}){const{rows:s=1}=r;if(t.length%s!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=s,this.columns=t.length/s,this.data=t}set(t,r,s){var n=this._calculateIndex(t,r);return this.data[n]=s,this}get(t,r){var s=this._calculateIndex(t,r);return this.data[s]}_calculateIndex(t,r){return t*this.columns+r}static get[Symbol.species](){return D}}class he extends ft(){constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,r,s){return this.data[t][r]=s,this}get(t,r){return this.data[t][r]}static get[Symbol.species](){return D}}function w_(e,t){if(Array.isArray(e))return e[0]&&Array.isArray(e[0])?new he(e):new un(e,t);throw new Error("the argument is not an array")}class fr{constructor(t){t=he.checkMatrix(t);var r=t.clone(),s=t.rows,n=t.columns,a=new Array(n),i,p,_,l;for(_=0;_<n;_++){var o=0;for(i=_;i<s;i++)o=Me(o,r.get(i,_));if(o!==0){for(r.get(_,_)<0&&(o=-o),i=_;i<s;i++)r.set(i,_,r.get(i,_)/o);for(r.set(_,_,r.get(_,_)+1),p=_+1;p<n;p++){for(l=0,i=_;i<s;i++)l+=r.get(i,_)*r.get(i,p);for(l=-l/r.get(_,_),i=_;i<s;i++)r.set(i,p,r.get(i,p)+l*r.get(i,_))}}a[_]=-o}this.QR=r,this.Rdiag=a}solve(t){t=D.checkMatrix(t);var r=this.QR,s=r.rows;if(t.rows!==s)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var n=t.columns,a=t.clone(),i=r.columns,p,_,l,o;for(l=0;l<i;l++)for(_=0;_<n;_++){for(o=0,p=l;p<s;p++)o+=r[p][l]*a[p][_];for(o=-o/r[l][l],p=l;p<s;p++)a[p][_]+=o*r[p][l]}for(l=i-1;l>=0;l--){for(_=0;_<n;_++)a[l][_]/=this.Rdiag[l];for(p=0;p<l;p++)for(_=0;_<n;_++)a[p][_]-=a[l][_]*r[p][l]}return a.subMatrix(0,i-1,0,n-1)}isFullRank(){for(var t=this.QR.columns,r=0;r<t;r++)if(this.Rdiag[r]===0)return!1;return!0}get upperTriangularMatrix(){var t=this.QR,r=t.columns,s=new D(r,r),n,a;for(n=0;n<r;n++)for(a=0;a<r;a++)n<a?s[n][a]=t[n][a]:n===a?s[n][a]=this.Rdiag[n]:s[n][a]=0;return s}get orthogonalMatrix(){var t=this.QR,r=t.rows,s=t.columns,n=new D(r,s),a,i,p,_;for(p=s-1;p>=0;p--){for(a=0;a<r;a++)n[a][p]=0;for(n[p][p]=1,i=p;i<s;i++)if(t[p][p]!==0){for(_=0,a=p;a<r;a++)_+=t[a][p]*n[a][i];for(_=-_/t[p][p],a=p;a<r;a++)n[a][i]+=_*t[a][p]}}return n}}function M_(e,t=!1){return e=he.checkMatrix(e),t?new We(e).inverse():fn(e,D.eye(e.rows))}function fn(e,t,r=!1){return e=he.checkMatrix(e),t=he.checkMatrix(t),r?new We(e).solve(t):e.isSquare()?new Tt(e).solve(t):new fr(e).solve(t)}function x_(e,t){for(var r=[],s=0;s<e;s++)s!==t&&r.push(s);return r}function b_(e,t,r,s=1e-9,n=1e-9){if(e>n)return new Array(t.rows+1).fill(0);for(var a=t.addRow(r,[0]),i=0;i<a.rows;i++)Math.abs(a.get(i,0))<s&&a.set(i,0,0);return a.to1DArray()}function S_(e,t={}){const{thresholdValue:r=1e-9,thresholdError:s=1e-9}=t;for(var n=e.rows,a=new D(n,n),i=0;i<n;i++){var p=D.columnVector(e.getRow(i)),_=e.subMatrixRow(x_(n,i)).transposeView(),l=new We(_),o=l.solve(p),c=ln(D.sub(p,_.mmul(o)).abs().to1DArray());a.setRow(i,b_(c,o,i,r,s))}return a}class ls{constructor(t,r={}){const{assumeSymmetric:s=!1}=r;if(t=he.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");var n=t.columns,a=Pt(n,n,0),i=new Array(n),p=new Array(n),_=t,l,o,c=!1;if(s?c=!0:c=t.isSymmetric(),c){for(l=0;l<n;l++)for(o=0;o<n;o++)a[l][o]=_.get(l,o);C_(n,p,i,a),k_(n,p,i,a)}else{var d=Pt(n,n,0),y=new Array(n);for(o=0;o<n;o++)for(l=0;l<n;l++)d[l][o]=_.get(l,o);A_(n,d,y,a),L_(n,p,i,a,d)}this.n=n,this.e=p,this.d=i,this.V=a}get realEigenvalues(){return this.d}get imaginaryEigenvalues(){return this.e}get eigenvectorMatrix(){return D.isMatrix(this.V)||(this.V=new D(this.V)),this.V}get diagonalMatrix(){var t=this.n,r=this.e,s=this.d,n=new D(t,t),a,i;for(a=0;a<t;a++){for(i=0;i<t;i++)n[a][i]=0;n[a][a]=s[a],r[a]>0?n[a][a+1]=r[a]:r[a]<0&&(n[a][a-1]=r[a])}return n}}function C_(e,t,r,s){var n,a,i,p,_,l,o,c;for(_=0;_<e;_++)r[_]=s[e-1][_];for(p=e-1;p>0;p--){for(c=0,i=0,l=0;l<p;l++)c=c+Math.abs(r[l]);if(c===0)for(t[p]=r[p-1],_=0;_<p;_++)r[_]=s[p-1][_],s[p][_]=0,s[_][p]=0;else{for(l=0;l<p;l++)r[l]/=c,i+=r[l]*r[l];for(n=r[p-1],a=Math.sqrt(i),n>0&&(a=-a),t[p]=c*a,i=i-n*a,r[p-1]=n-a,_=0;_<p;_++)t[_]=0;for(_=0;_<p;_++){for(n=r[_],s[_][p]=n,a=t[_]+s[_][_]*n,l=_+1;l<=p-1;l++)a+=s[l][_]*r[l],t[l]+=s[l][_]*n;t[_]=a}for(n=0,_=0;_<p;_++)t[_]/=i,n+=t[_]*r[_];for(o=n/(i+i),_=0;_<p;_++)t[_]-=o*r[_];for(_=0;_<p;_++){for(n=r[_],a=t[_],l=_;l<=p-1;l++)s[l][_]-=n*t[l]+a*r[l];r[_]=s[p-1][_],s[p][_]=0}}r[p]=i}for(p=0;p<e-1;p++){if(s[e-1][p]=s[p][p],s[p][p]=1,i=r[p+1],i!==0){for(l=0;l<=p;l++)r[l]=s[l][p+1]/i;for(_=0;_<=p;_++){for(a=0,l=0;l<=p;l++)a+=s[l][p+1]*s[l][_];for(l=0;l<=p;l++)s[l][_]-=a*r[l]}}for(l=0;l<=p;l++)s[l][p+1]=0}for(_=0;_<e;_++)r[_]=s[e-1][_],s[e-1][_]=0;s[e-1][e-1]=1,t[0]=0}function k_(e,t,r,s){var n,a,i,p,_,l,o,c,d,y,m,F,x,g,w,L;for(i=1;i<e;i++)t[i-1]=t[i];t[e-1]=0;var I=0,N=0,q=Number.EPSILON;for(l=0;l<e;l++){for(N=Math.max(N,Math.abs(r[l])+Math.abs(t[l])),o=l;o<e&&!(Math.abs(t[o])<=q*N);)o++;if(o>l)do{for(n=r[l],c=(r[l+1]-n)/(2*t[l]),d=Me(c,1),c<0&&(d=-d),r[l]=t[l]/(c+d),r[l+1]=t[l]*(c+d),y=r[l+1],a=n-r[l],i=l+2;i<e;i++)r[i]-=a;for(I=I+a,c=r[o],m=1,F=m,x=m,g=t[l+1],w=0,L=0,i=o-1;i>=l;i--)for(x=F,F=m,L=w,n=m*t[i],a=m*c,d=Me(c,t[i]),t[i+1]=w*d,w=t[i]/d,m=c/d,c=m*r[i]-w*n,r[i+1]=a+w*(m*n+w*r[i]),_=0;_<e;_++)a=s[_][i+1],s[_][i+1]=w*s[_][i]+m*a,s[_][i]=m*s[_][i]-w*a;c=-w*L*x*g*t[l]/y,t[l]=w*c,r[l]=m*c}while(Math.abs(t[l])>q*N);r[l]=r[l]+I,t[l]=0}for(i=0;i<e-1;i++){for(_=i,c=r[i],p=i+1;p<e;p++)r[p]<c&&(_=p,c=r[p]);if(_!==i)for(r[_]=r[i],r[i]=c,p=0;p<e;p++)c=s[p][i],s[p][i]=s[p][_],s[p][_]=c}}function A_(e,t,r,s){var n=0,a=e-1,i,p,_,l,o,c,d;for(c=n+1;c<=a-1;c++){for(d=0,l=c;l<=a;l++)d=d+Math.abs(t[l][c-1]);if(d!==0){for(_=0,l=a;l>=c;l--)r[l]=t[l][c-1]/d,_+=r[l]*r[l];for(p=Math.sqrt(_),r[c]>0&&(p=-p),_=_-r[c]*p,r[c]=r[c]-p,o=c;o<e;o++){for(i=0,l=a;l>=c;l--)i+=r[l]*t[l][o];for(i=i/_,l=c;l<=a;l++)t[l][o]-=i*r[l]}for(l=0;l<=a;l++){for(i=0,o=a;o>=c;o--)i+=r[o]*t[l][o];for(i=i/_,o=c;o<=a;o++)t[l][o]-=i*r[o]}r[c]=d*r[c],t[c][c-1]=d*p}}for(l=0;l<e;l++)for(o=0;o<e;o++)s[l][o]=l===o?1:0;for(c=a-1;c>=n+1;c--)if(t[c][c-1]!==0){for(l=c+1;l<=a;l++)r[l]=t[l][c-1];for(o=c;o<=a;o++){for(p=0,l=c;l<=a;l++)p+=r[l]*s[l][o];for(p=p/r[c]/t[c][c-1],l=c;l<=a;l++)s[l][o]+=p*r[l]}}}function L_(e,t,r,s,n){var a=e-1,i=0,p=e-1,_=Number.EPSILON,l=0,o=0,c=0,d=0,y=0,m=0,F=0,x=0,g,w,L,I,N,q,O,E,R,U,$,v,S,H,C;for(g=0;g<e;g++)for((g<i||g>p)&&(r[g]=n[g][g],t[g]=0),w=Math.max(g-1,0);w<e;w++)o=o+Math.abs(n[g][w]);for(;a>=i;){for(I=a;I>i&&(m=Math.abs(n[I-1][I-1])+Math.abs(n[I][I]),m===0&&(m=o),!(Math.abs(n[I][I-1])<_*m));)I--;if(I===a)n[a][a]=n[a][a]+l,r[a]=n[a][a],t[a]=0,a--,x=0;else if(I===a-1){if(O=n[a][a-1]*n[a-1][a],c=(n[a-1][a-1]-n[a][a])/2,d=c*c+O,F=Math.sqrt(Math.abs(d)),n[a][a]=n[a][a]+l,n[a-1][a-1]=n[a-1][a-1]+l,E=n[a][a],d>=0){for(F=c>=0?c+F:c-F,r[a-1]=E+F,r[a]=r[a-1],F!==0&&(r[a]=E-O/F),t[a-1]=0,t[a]=0,E=n[a][a-1],m=Math.abs(E)+Math.abs(F),c=E/m,d=F/m,y=Math.sqrt(c*c+d*d),c=c/y,d=d/y,w=a-1;w<e;w++)F=n[a-1][w],n[a-1][w]=d*F+c*n[a][w],n[a][w]=d*n[a][w]-c*F;for(g=0;g<=a;g++)F=n[g][a-1],n[g][a-1]=d*F+c*n[g][a],n[g][a]=d*n[g][a]-c*F;for(g=i;g<=p;g++)F=s[g][a-1],s[g][a-1]=d*F+c*s[g][a],s[g][a]=d*s[g][a]-c*F}else r[a-1]=E+c,r[a]=E+c,t[a-1]=F,t[a]=-F;a=a-2,x=0}else{if(E=n[a][a],R=0,O=0,I<a&&(R=n[a-1][a-1],O=n[a][a-1]*n[a-1][a]),x===10){for(l+=E,g=i;g<=a;g++)n[g][g]-=E;m=Math.abs(n[a][a-1])+Math.abs(n[a-1][a-2]),E=R=.75*m,O=-.4375*m*m}if(x===30&&(m=(R-E)/2,m=m*m+O,m>0)){for(m=Math.sqrt(m),R<E&&(m=-m),m=E-O/((R-E)/2+m),g=i;g<=a;g++)n[g][g]-=m;l+=m,E=R=O=.964}for(x=x+1,N=a-2;N>=I&&(F=n[N][N],y=E-F,m=R-F,c=(y*m-O)/n[N+1][N]+n[N][N+1],d=n[N+1][N+1]-F-y-m,y=n[N+2][N+1],m=Math.abs(c)+Math.abs(d)+Math.abs(y),c=c/m,d=d/m,y=y/m,!(N===I||Math.abs(n[N][N-1])*(Math.abs(d)+Math.abs(y))<_*(Math.abs(c)*(Math.abs(n[N-1][N-1])+Math.abs(F)+Math.abs(n[N+1][N+1])))));)N--;for(g=N+2;g<=a;g++)n[g][g-2]=0,g>N+2&&(n[g][g-3]=0);for(L=N;L<=a-1&&(H=L!==a-1,L!==N&&(c=n[L][L-1],d=n[L+1][L-1],y=H?n[L+2][L-1]:0,E=Math.abs(c)+Math.abs(d)+Math.abs(y),E!==0&&(c=c/E,d=d/E,y=y/E)),E!==0);L++)if(m=Math.sqrt(c*c+d*d+y*y),c<0&&(m=-m),m!==0){for(L!==N?n[L][L-1]=-m*E:I!==N&&(n[L][L-1]=-n[L][L-1]),c=c+m,E=c/m,R=d/m,F=y/m,d=d/c,y=y/c,w=L;w<e;w++)c=n[L][w]+d*n[L+1][w],H&&(c=c+y*n[L+2][w],n[L+2][w]=n[L+2][w]-c*F),n[L][w]=n[L][w]-c*E,n[L+1][w]=n[L+1][w]-c*R;for(g=0;g<=Math.min(a,L+3);g++)c=E*n[g][L]+R*n[g][L+1],H&&(c=c+F*n[g][L+2],n[g][L+2]=n[g][L+2]-c*y),n[g][L]=n[g][L]-c,n[g][L+1]=n[g][L+1]-c*d;for(g=i;g<=p;g++)c=E*s[g][L]+R*s[g][L+1],H&&(c=c+F*s[g][L+2],s[g][L+2]=s[g][L+2]-c*y),s[g][L]=s[g][L]-c,s[g][L+1]=s[g][L+1]-c*d}}}if(o!==0){for(a=e-1;a>=0;a--)if(c=r[a],d=t[a],d===0)for(I=a,n[a][a]=1,g=a-1;g>=0;g--){for(O=n[g][g]-c,y=0,w=I;w<=a;w++)y=y+n[g][w]*n[w][a];if(t[g]<0)F=O,m=y;else if(I=g,t[g]===0?n[g][a]=O!==0?-y/O:-y/(_*o):(E=n[g][g+1],R=n[g+1][g],d=(r[g]-c)*(r[g]-c)+t[g]*t[g],q=(E*m-F*y)/d,n[g][a]=q,n[g+1][a]=Math.abs(E)>Math.abs(F)?(-y-O*q)/E:(-m-R*q)/F),q=Math.abs(n[g][a]),_*q*q>1)for(w=g;w<=a;w++)n[w][a]=n[w][a]/q}else if(d<0)for(I=a-1,Math.abs(n[a][a-1])>Math.abs(n[a-1][a])?(n[a-1][a-1]=d/n[a][a-1],n[a-1][a]=-(n[a][a]-c)/n[a][a-1]):(C=Mt(0,-n[a-1][a],n[a-1][a-1]-c,d),n[a-1][a-1]=C[0],n[a-1][a]=C[1]),n[a][a-1]=0,n[a][a]=1,g=a-2;g>=0;g--){for(U=0,$=0,w=I;w<=a;w++)U=U+n[g][w]*n[w][a-1],$=$+n[g][w]*n[w][a];if(O=n[g][g]-c,t[g]<0)F=O,y=U,m=$;else if(I=g,t[g]===0?(C=Mt(-U,-$,O,d),n[g][a-1]=C[0],n[g][a]=C[1]):(E=n[g][g+1],R=n[g+1][g],v=(r[g]-c)*(r[g]-c)+t[g]*t[g]-d*d,S=(r[g]-c)*2*d,v===0&&S===0&&(v=_*o*(Math.abs(O)+Math.abs(d)+Math.abs(E)+Math.abs(R)+Math.abs(F))),C=Mt(E*y-F*U+d*$,E*m-F*$-d*U,v,S),n[g][a-1]=C[0],n[g][a]=C[1],Math.abs(E)>Math.abs(F)+Math.abs(d)?(n[g+1][a-1]=(-U-O*n[g][a-1]+d*n[g][a])/E,n[g+1][a]=(-$-O*n[g][a]-d*n[g][a-1])/E):(C=Mt(-y-R*n[g][a-1],-m-R*n[g][a],F,d),n[g+1][a-1]=C[0],n[g+1][a]=C[1])),q=Math.max(Math.abs(n[g][a-1]),Math.abs(n[g][a])),_*q*q>1)for(w=g;w<=a;w++)n[w][a-1]=n[w][a-1]/q,n[w][a]=n[w][a]/q}for(g=0;g<e;g++)if(g<i||g>p)for(w=g;w<e;w++)s[g][w]=n[g][w];for(w=e-1;w>=i;w--)for(g=i;g<=p;g++){for(F=0,L=i;L<=Math.min(w,p);L++)F=F+s[g][L]*n[L][w];s[g][w]=F}}}function Mt(e,t,r,s){var n,a;return Math.abs(r)>Math.abs(s)?(n=s/r,a=r+n*s,[(e+n*t)/a,(t-n*e)/a]):(n=r/s,a=s+n*r,[(n*e+t)/a,(n*t-e)/a])}class _s{constructor(t){if(t=he.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");var r=t,s=r.rows,n=new D(s,s),a=!0,i,p,_;for(p=0;p<s;p++){var l=n[p],o=0;for(_=0;_<p;_++){var c=n[_],d=0;for(i=0;i<_;i++)d+=c[i]*l[i];l[_]=d=(r.get(p,_)-d)/n[_][_],o=o+d*d}for(o=r.get(p,p)-o,a&=o>0,n[p][p]=Math.sqrt(Math.max(o,0)),_=p+1;_<s;_++)n[p][_]=0}if(!a)throw new Error("Matrix is not positive definite");this.L=n}solve(t){t=he.checkMatrix(t);var r=this.L,s=r.rows;if(t.rows!==s)throw new Error("Matrix dimensions do not match");var n=t.columns,a=t.clone(),i,p,_;for(_=0;_<s;_++)for(p=0;p<n;p++){for(i=0;i<_;i++)a[_][p]-=a[i][p]*r[_][i];a[_][p]/=r[_][_]}for(_=s-1;_>=0;_--)for(p=0;p<n;p++){for(i=_+1;i<s;i++)a[_][p]-=a[i][p]*r[i][_];a[_][p]/=r[_][_]}return a}get lowerTriangularMatrix(){return this.L}}const E_=Object.freeze(Object.defineProperty({__proto__:null,CHO:_s,CholeskyDecomposition:_s,EVD:ls,EigenvalueDecomposition:ls,LU:Tt,LuDecomposition:Tt,Matrix:D,QR:fr,QrDecomposition:fr,SVD:We,SingularValueDecomposition:We,WrapperMatrix1D:un,WrapperMatrix2D:he,abstractMatrix:ft,default:D,inverse:M_,linearDependencies:S_,solve:fn,wrap:w_},Symbol.toStringTag,{value:"Module"})),$_=pn(E_);function dn(e,t){let r=0;for(let s=0;s<e.length;s++)r+=(e[s]-t[s])*(e[s]-t[s]);return r}function N_(e,t){return Math.sqrt(dn(e,t))}const H_=Object.freeze(Object.defineProperty({__proto__:null,euclidean:N_,squaredEuclidean:dn},Symbol.toStringTag,{value:"Module"})),I_=pn(H_),{squaredEuclidean:O_}=I_,q_={sigma:1};let R_=class{constructor(t){t=Object.assign({},q_,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,r){const s=O_(t,r);return Math.exp(-s/this.divisor)}};var V_=R_;const T_={degree:1,constant:1,scale:1};let P_=class{constructor(t){t=Object.assign({},T_,t),this.degree=t.degree,this.constant=t.constant,this.scale=t.scale}compute(t,r){for(var s=0,n=0;n<t.length;n++)s+=t[n]*r[n];return Math.pow(this.scale*s+this.constant,this.degree)}};var D_=P_;const z_={sigma:1,degree:1};let X_=class{constructor(t){t=Object.assign({},z_,t),this.sigma=t.sigma,this.degree=t.degree}compute(t,r){for(var s=0,n=Math.min(t.length,r.length),a=1;a<=n;++a)s+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(t[a-1],a)-Math.pow(r[a-1],a),2)),this.degree);return s}};var K_=X_;function yn(e,t){for(var r=0,s=0;s<e.length;s++)r+=(e[s]-t[s])*(e[s]-t[s]);return r}function gn(e,t){return Math.sqrt(yn(e,t))}var dt=gn;gn.squared=yn;const U_=dt.squared,Y_={sigma:1};let B_=class{constructor(t){t=Object.assign({},Y_,t),this.sigma=t.sigma}compute(t,r){return 1/(1+U_(t,r)/(this.sigma*this.sigma))}};var W_=B_;const Q_=dt,G_={sigma:1};let J_=class{constructor(t){t=Object.assign({},G_,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,r){const s=Q_(t,r);return Math.exp(-s/this.divisor)}};var Z_=J_;class j_{compute(t,r){for(var s=Math.min(t.length,r.length),n=0,a=0;a<s;++a)n+=Math.min(t[a],r[a]);return n}}var eo=j_;const to=dt,ro={sigma:1};let so=class{constructor(t){t=Object.assign({},ro,t),this.sigma=t.sigma}compute(t,r){const s=to(t,r);return Math.exp(-s/this.sigma)}};var no=so;const ao=dt.squared,io={constant:1};let po=class{constructor(t){t=Object.assign({},io,t),this.constant=t.constant}compute(t,r){return Math.sqrt(ao(t,r)+this.constant*this.constant)}};var lo=po;const _o=dt.squared,oo={constant:1};class co{constructor(t){t=Object.assign({},oo,t),this.constant=t.constant}compute(t,r){const s=_o(t,r);return 1-s/(s+this.constant)}}var ho=co;const uo={alpha:.01,constant:-Math.E};let fo=class{constructor(t){t=Object.assign({},uo,t),this.alpha=t.alpha,this.constant=t.constant}compute(t,r){for(var s=0,n=0;n<t.length;n++)s+=t[n]*r[n];return Math.tanh(this.alpha*s+this.constant)}};var yo=fo;const er=$_.Matrix,os=V_,cs=D_,go=K_,vo=W_,mo=Z_,hs=eo,Fo=no,wo=lo,Mo=ho,us=yo,xo={gaussian:os,rbf:os,polynomial:cs,poly:cs,anova:go,cauchy:vo,exponential:mo,histogram:hs,min:hs,laplacian:Fo,multiquadratic:wo,rational:Mo,sigmoid:us,mlp:us};let bo=class{constructor(t,r){if(this.kernelType=t,t!=="linear")if(typeof t=="string"){t=t.toLowerCase();var s=xo[t];if(s)this.kernelFunction=new s(r);else throw new Error("unsupported kernel type: "+t)}else if(typeof t=="object"&&typeof t.compute=="function")this.kernelFunction=t;else throw new TypeError("first argument must be a valid kernel type or instance")}compute(t,r){if(r===void 0&&(r=t),this.kernelType==="linear"){var s=new er(t);return s.mmul(new er(r).transposeView())}const n=new er(t.length,r.length);var a,i;if(t===r)for(a=0;a<t.length;a++)for(i=a;i<t.length;i++)n[a][i]=n[i][a]=this.kernelFunction.compute(t[a],t[i]);else for(a=0;a<t.length;a++)for(i=0;i<r.length;i++)n[a][i]=this.kernelFunction.compute(t[a],r[i]);return n}};var So=bo,Sr={},Cr={};(function(e){function t(r,s){return r-s}e.sum=function(s){for(var n=0,a=0;a<s.length;a++)n+=s[a];return n},e.max=function(s){for(var n=s[0],a=s.length,i=1;i<a;i++)s[i]>n&&(n=s[i]);return n},e.min=function(s){for(var n=s[0],a=s.length,i=1;i<a;i++)s[i]<n&&(n=s[i]);return n},e.minMax=function(s){for(var n=s[0],a=s[0],i=s.length,p=1;p<i;p++)s[p]<n&&(n=s[p]),s[p]>a&&(a=s[p]);return{min:n,max:a}},e.arithmeticMean=function(s){for(var n=0,a=s.length,i=0;i<a;i++)n+=s[i];return n/a},e.mean=e.arithmeticMean,e.geometricMean=function(s){for(var n=1,a=s.length,i=0;i<a;i++)n*=s[i];return Math.pow(n,1/a)},e.logMean=function(s){for(var n=0,a=s.length,i=0;i<a;i++)n+=Math.log(s[i]);return n/a},e.grandMean=function(s,n){for(var a=0,i=0,p=s.length,_=0;_<p;_++)a+=n[_]*s[_],i+=n[_];return a/i},e.truncatedMean=function(s,n,a){a===void 0&&(a=!1),a||(s=[].concat(s).sort(t));for(var i=s.length,p=Math.floor(i*n),_=0,l=p;l<i-p;l++)_+=s[l];return _/(i-2*p)},e.harmonicMean=function(s){for(var n=0,a=s.length,i=0;i<a;i++){if(s[i]===0)throw new RangeError("value at index "+i+"is zero");n+=1/s[i]}return a/n},e.contraHarmonicMean=function(s){for(var n=0,a=0,i=s.length,p=0;p<i;p++)n+=s[p]*s[p],a+=s[p];if(a<0)throw new RangeError("sum of values is negative");return n/a},e.median=function(s,n){n===void 0&&(n=!1),n||(s=[].concat(s).sort(t));var a=s.length,i=Math.floor(a/2);return a%2===0?(s[i-1]+s[i])*.5:s[i]},e.variance=function(s,n){n===void 0&&(n=!0);for(var a=e.mean(s),i=0,p=s.length,_=0;_<p;_++){var l=s[_]-a;i+=l*l}return n?i/(p-1):i/p},e.standardDeviation=function(s,n){return Math.sqrt(e.variance(s,n))},e.standardError=function(s){return e.standardDeviation(s)/Math.sqrt(s.length)},e.robustMeanAndStdev=function(s){var n=0,a=0,i=s.length,p=0;for(p=0;p<i;p++)n+=s[p];n/=i;var _=new Array(i);for(p=0;p<i;p++)_[p]=Math.abs(s[p]-n);return _.sort(t),i%2===1?a=_[(i-1)/2]/.6745:a=.5*(_[i/2]+_[i/2-1])/.6745,{mean:n,stdev:a}},e.quartiles=function(s,n){typeof n>"u"&&(n=!1),n||(s=[].concat(s).sort(t));var a=s.length/4,i=s[Math.ceil(a)-1],p=e.median(s,!0),_=s[Math.ceil(a*3)-1];return{q1:i,q2:p,q3:_}},e.pooledStandardDeviation=function(s,n){return Math.sqrt(e.pooledVariance(s,n))},e.pooledVariance=function(s,n){typeof n>"u"&&(n=!0);for(var a=0,i=0,p=s.length,_=0;_<p;_++){var l=s[_],o=e.variance(l);a+=(l.length-1)*o,n?i+=l.length-1:i+=l.length}return a/i},e.mode=function(s){var n=s.length,a=new Array(n),i;for(i=0;i<n;i++)a[i]=0;var p=new Array(n),_=0;for(i=0;i<n;i++){var l=p.indexOf(s[i]);l>=0?a[l]++:(p[_]=s[i],a[_]=1,_++)}var o=0,c=0;for(i=0;i<_;i++)a[i]>o&&(o=a[i],c=i);return p[c]},e.covariance=function(s,n,a){typeof a>"u"&&(a=!0);var i=e.mean(s),p=e.mean(n);if(s.length!==n.length)throw"Vectors do not have the same dimensions";for(var _=0,l=s.length,o=0;o<l;o++){var c=s[o]-i,d=n[o]-p;_+=c*d}return a?_/(l-1):_/l},e.skewness=function(s,n){typeof n>"u"&&(n=!0);for(var a=e.mean(s),i=0,p=0,_=s.length,l=0;l<_;l++){var o=s[l]-a;i+=o*o,p+=o*o*o}var c=i/_,d=p/_,y=d/Math.pow(c,3/2);if(n){var m=Math.sqrt(_*(_-1)),F=_-2;return m/F*y}else return y},e.kurtosis=function(s,n){typeof n>"u"&&(n=!0);for(var a=e.mean(s),i=s.length,p=0,_=0,l=0;l<i;l++){var o=s[l]-a;p+=o*o,_+=o*o*o*o}var c=p/i,d=_/i;if(n){var y=p/(i-1),m=i*(i+1)/((i-1)*(i-2)*(i-3)),F=_/(y*y),x=(i-1)*(i-1)/((i-2)*(i-3));return m*F-3*x}else return d/(c*c)-3},e.entropy=function(s,n){typeof n>"u"&&(n=0);for(var a=0,i=s.length,p=0;p<i;p++)a+=s[p]*Math.log(s[p]+n);return-a},e.weightedMean=function(s,n){for(var a=0,i=s.length,p=0;p<i;p++)a+=s[p]*n[p];return a},e.weightedStandardDeviation=function(s,n){return Math.sqrt(e.weightedVariance(s,n))},e.weightedVariance=function(s,n){for(var a=e.weightedMean(s,n),i=0,p=s.length,_=0,l=0,o=0;o<p;o++){var c=s[o]-a,d=n[o];i+=d*(c*c),l+=d,_+=d*d}return i*(l/(l*l-_))},e.center=function(s,n){typeof n>"u"&&(n=!1);var a=s;n||(a=[].concat(s));for(var i=e.mean(a),p=a.length,_=0;_<p;_++)a[_]-=i},e.standardize=function(s,n,a){typeof n>"u"&&(n=e.standardDeviation(s)),typeof a>"u"&&(a=!1);for(var i=s.length,p=a?s:new Array(i),_=0;_<i;_++)p[_]=s[_]/n;return p},e.cumulativeSum=function(s){var n=s.length,a=new Array(n);a[0]=s[0];for(var i=1;i<n;i++)a[i]=a[i-1]+s[i];return a}})(Cr);var vn={};(function(e){var t=Cr;function r(s,n){return s-n}e.max=function(n){for(var a=-1/0,i=0;i<n.length;i++)for(var p=0;p<n[i].length;p++)n[i][p]>a&&(a=n[i][p]);return a},e.min=function(n){for(var a=1/0,i=0;i<n.length;i++)for(var p=0;p<n[i].length;p++)n[i][p]<a&&(a=n[i][p]);return a},e.minMax=function(n){for(var a=1/0,i=-1/0,p=0;p<n.length;p++)for(var _=0;_<n[p].length;_++)n[p][_]<a&&(a=n[p][_]),n[p][_]>i&&(i=n[p][_]);return{min:a,max:i}},e.entropy=function(n,a){typeof a>"u"&&(a=0);for(var i=0,p=n.length,_=n[0].length,l=0;l<p;l++)for(var o=0;o<_;o++)i+=n[l][o]*Math.log(n[l][o]+a);return-i},e.mean=function(n,a){typeof a>"u"&&(a=0);var i=n.length,p=n[0].length,_,l,o,c;if(a===-1){for(_=[0],l=i*p,o=0;o<i;o++)for(c=0;c<p;c++)_[0]+=n[o][c];_[0]/=l}else if(a===0)for(_=new Array(p),l=i,c=0;c<p;c++){for(_[c]=0,o=0;o<i;o++)_[c]+=n[o][c];_[c]/=l}else if(a===1)for(_=new Array(i),l=p,c=0;c<i;c++){for(_[c]=0,o=0;o<p;o++)_[c]+=n[c][o];_[c]/=l}else throw new Error("Invalid dimension");return _},e.sum=function(n,a){typeof a>"u"&&(a=0);var i=n.length,p=n[0].length,_,l,o;if(a===-1)for(_=[0],l=0;l<i;l++)for(o=0;o<p;o++)_[0]+=n[l][o];else if(a===0)for(_=new Array(p),o=0;o<p;o++)for(_[o]=0,l=0;l<i;l++)_[o]+=n[l][o];else if(a===1)for(_=new Array(i),o=0;o<i;o++)for(_[o]=0,l=0;l<p;l++)_[o]+=n[o][l];else throw new Error("Invalid dimension");return _},e.product=function(n,a){typeof a>"u"&&(a=0);var i=n.length,p=n[0].length,_,l,o;if(a===-1)for(_=[1],l=0;l<i;l++)for(o=0;o<p;o++)_[0]*=n[l][o];else if(a===0)for(_=new Array(p),o=0;o<p;o++)for(_[o]=1,l=0;l<i;l++)_[o]*=n[l][o];else if(a===1)for(_=new Array(i),o=0;o<i;o++)for(_[o]=1,l=0;l<p;l++)_[o]*=n[o][l];else throw new Error("Invalid dimension");return _},e.standardDeviation=function(n,a,i){for(var p=e.variance(n,a,i),_=p.length,l=0;l<_;l++)p[l]=Math.sqrt(p[l]);return p},e.variance=function(n,a,i){typeof i>"u"&&(i=!0),a=a||e.mean(n);var p=n.length;if(p===0)return[];for(var _=n[0].length,l=new Array(_),o=0;o<_;o++){for(var c=0,d=0,y=0,m=0;m<p;m++)y=n[m][o]-a[o],c+=y,d+=y*y;i?l[o]=(d-c*c/p)/(p-1):l[o]=(d-c*c/p)/p}return l},e.median=function(n){for(var a=n.length,i=n[0].length,p=new Array(i),_=0;_<i;_++){for(var l=new Array(a),o=0;o<a;o++)l[o]=n[o][_];l.sort(r);var c=l.length;c%2===0?p[_]=(l[c/2]+l[c/2-1])*.5:p[_]=l[Math.floor(c/2)]}return p},e.mode=function(n){var a=n.length,i=n[0].length,p=new Array(i),_,l;for(_=0;_<i;_++){for(var o=new Array(a),c=0;c<a;c++)o[c]=0;var d=new Array(a),y=0;for(l=0;l<a;l++){var m=d.indexOf(n[l][_]);m>=0?o[m]++:(d[y]=n[l][_],o[y]=1,y++)}var F=0,x=0;for(l=0;l<y;l++)o[l]>F&&(F=o[l],x=l);p[_]=d[x]}return p},e.skewness=function(n,a){typeof a>"u"&&(a=!0);for(var i=e.mean(n),p=n.length,_=i.length,l=new Array(_),o=0;o<_;o++){for(var c=0,d=0,y=0;y<p;y++){var m=n[y][o]-i[o];c+=m*m,d+=m*m*m}var F=c/p,x=d/p,g=x/Math.pow(F,3/2);if(a){var w=Math.sqrt(p*(p-1)),L=p-2;l[o]=w/L*g}else l[o]=g}return l},e.kurtosis=function(n,a){typeof a>"u"&&(a=!0);for(var i=e.mean(n),p=n.length,_=n[0].length,l=new Array(_),o=0;o<_;o++){for(var c=0,d=0,y=0;y<p;y++){var m=n[y][o]-i[o];c+=m*m,d+=m*m*m*m}var F=c/p,x=d/p;if(a){var g=c/(p-1),w=p*(p+1)/((p-1)*(p-2)*(p-3)),L=d/(g*g),I=(p-1)*(p-1)/((p-2)*(p-3));l[o]=w*L-3*I}else l[o]=x/(F*F)-3}return l},e.standardError=function(n){for(var a=n.length,i=e.standardDeviation(n),p=i.length,_=new Array(p),l=Math.sqrt(a),o=0;o<p;o++)_[o]=i[o]/l;return _},e.covariance=function(n,a){return e.scatter(n,void 0,a)},e.scatter=function(n,a,i){typeof i>"u"&&(i=0),typeof a>"u"&&(i===0?a=n.length-1:i===1&&(a=n[0].length-1));var p=e.mean(n,i),_=n.length;if(_===0)return[[]];var l=n[0].length,o,c,d,y,m;if(i===0){for(o=new Array(l),c=0;c<l;c++)o[c]=new Array(l);for(c=0;c<l;c++)for(d=c;d<l;d++){for(y=0,m=0;m<_;m++)y+=(n[m][d]-p[d])*(n[m][c]-p[c]);y/=a,o[c][d]=y,o[d][c]=y}}else if(i===1){for(o=new Array(_),c=0;c<_;c++)o[c]=new Array(_);for(c=0;c<_;c++)for(d=c;d<_;d++){for(y=0,m=0;m<l;m++)y+=(n[d][m]-p[d])*(n[c][m]-p[c]);y/=a,o[c][d]=y,o[d][c]=y}}else throw new Error("Invalid dimension");return o},e.correlation=function(n){var a=e.mean(n),i=e.standardDeviation(n,!0,a),p=e.zScores(n,a,i),_=n.length,l=n[0].length,o,c,d=new Array(l);for(o=0;o<l;o++)d[o]=new Array(l);for(o=0;o<l;o++)for(c=o;c<l;c++){for(var y=0,m=0,F=p.length;m<F;m++)y+=p[m][c]*p[m][o];y/=_-1,d[o][c]=y,d[c][o]=y}return d},e.zScores=function(n,a,i){return a=a||e.mean(n),typeof i>"u"&&(i=e.standardDeviation(n,!0,a)),e.standardize(e.center(n,a,!1),i,!0)},e.center=function(n,a,i){a=a||e.mean(n);var p=n,_=n.length,l,o,c;if(!i)for(p=new Array(_),l=0;l<_;l++)p[l]=new Array(n[l].length);for(l=0;l<_;l++){var d=p[l];for(o=0,c=d.length;o<c;o++)d[o]=n[l][o]-a[o]}return p},e.standardize=function(n,a,i){typeof a>"u"&&(a=e.standardDeviation(n));var p=n,_=n.length,l,o,c;if(!i)for(p=new Array(_),l=0;l<_;l++)p[l]=new Array(n[l].length);for(l=0;l<_;l++){var d=p[l],y=n[l];for(o=0,c=d.length;o<c;o++)a[o]!==0&&!isNaN(a[o])&&(d[o]=y[o]/a[o])}return p},e.weightedVariance=function(n,a){var i=e.mean(n),p=n.length;if(p===0)return[];for(var _=n[0].length,l=new Array(_),o=0;o<_;o++){for(var c=0,d=0,y=0,m=0;m<p;m++){var F=n[m][o]-i[o],x=a[m];c+=x*(F*F),y+=x,d+=x*x}l[o]=c*(y/(y*y-d))}return l},e.weightedMean=function(n,a,i){typeof i>"u"&&(i=0);var p=n.length;if(p===0)return[];var _=n[0].length,l,o,c,d,y,m;if(i===0){for(l=new Array(_),o=0;o<_;o++)l[o]=0;for(o=0;o<p;o++)for(m=n[o],y=a[o],d=0;d<_;d++)l[d]+=m[d]*y}else if(i===1){for(l=new Array(p),o=0;o<p;o++)l[o]=0;for(d=0;d<p;d++)for(m=n[d],y=a[d],o=0;o<_;o++)l[d]+=m[o]*y}else throw new Error("Invalid dimension");var F=t.sum(a);if(F!==0)for(o=0,c=l.length;o<c;o++)l[o]/=F;return l},e.weightedCovariance=function(n,a,i,p){p=p||0,i=i||e.weightedMean(n,a,p);for(var _=0,l=0,o=0,c=a.length;o<c;o++)_+=a[o],l+=a[o]*a[o];var d=_/(_*_-l);return e.weightedScatter(n,a,i,d,p)},e.weightedScatter=function(n,a,i,p,_){_=_||0,i=i||e.weightedMean(n,a,_),typeof p>"u"&&(p=1);var l=n.length;if(l===0)return[[]];var o=n[0].length,c,d,y,m,F;if(_===0){for(c=new Array(o),d=0;d<o;d++)c[d]=new Array(o);for(d=0;d<o;d++)for(y=d;y<o;y++){for(F=0,m=0;m<l;m++)F+=a[m]*(n[m][y]-i[y])*(n[m][d]-i[d]);c[d][y]=F*p,c[y][d]=F*p}}else if(_===1){for(c=new Array(l),d=0;d<l;d++)c[d]=new Array(l);for(d=0;d<l;d++)for(y=d;y<l;y++){for(F=0,m=0;m<o;m++)F+=a[m]*(n[y][m]-i[y])*(n[d][m]-i[d]);c[d][y]=F*p,c[y][d]=F*p}}else throw new Error("Invalid dimension");return c}})(vn);Sr.array=Cr;Sr.matrix=vn;const Co=So,ko=Sr.array;var Ao={C:1,tol:1e-4,maxPasses:10,maxIterations:1e4,kernel:"linear",alphaTol:1e-6,random:Math.random,whitening:!0};function _e(e){this.options=Object.assign({},Ao,e),this.kernel=new Co(this.options.kernel,this.options.kernelOptions),this.b=0}_e.prototype.train=function(e,t){if(e.length!==t.length)throw new Error("Features and labels should have the same length");if(e.length<2)throw new Error("Cannot train with less than 2 observations");if(this._trained=!1,this._loaded=!1,this.N=t.length,this.D=e[0].length,this.options.whitening){this.X=new Array(this.N);for(var r=0;r<this.N;r++)this.X[r]=new Array(this.D);this.minMax=new Array(this.D);for(var s=0;s<this.D;s++){var n=new Array(this.N);for(r=0;r<this.N;r++)n[r]=e[r][s];for(this.minMax[s]=ko.minMax(n),r=0;r<this.N;r++)this.X[r][s]=(e[r][s]-this.minMax[s].min)/(this.minMax[s].max-this.minMax[s].min)}}else this.X=e;this.Y=t,this.b=0,this.W=void 0;var a=this.kernel.compute(this.X),i=t.length,p=new Array(i).fill(0);this.alphas=p;for(var _=0;_<i;_++)p[_]=0;for(var l=0,o=0,c=0,d=0,y=0,m=0,F=0,x=0,g=0,w=0,L=0;d<this.options.maxPasses&&c<this.options.maxIterations;){var I=0;for(r=0;r<i;r++)if(y=this._marginOnePrecomputed(r,a)-t[r],t[r]*y<-this.options.tol&&p[r]<this.options.C||t[r]*y>this.options.tol&&p[r]>0){for(s=r;s===r;)s=Math.floor(this.options.random()*i);if(m=this._marginOnePrecomputed(s,a)-t[s],F=p[r],x=p[s],t[r]===t[s]?(g=Math.max(0,F+x-this.options.C),w=Math.min(this.options.C,F+x)):(g=Math.max(0,x-F),w=Math.min(this.options.C,this.options.C+x+F)),Math.abs(g-w)<1e-4||(L=2*a[r][s]-a[r][r]-a[s][s],L>=0))continue;var N=p[s]-t[s]*(y-m)/L;if(N>w?N=w:N<g&&(N=g),Math.abs(x-N)<.001)continue;p[s]=N,p[r]=p[r]+t[r]*t[s]*(x-N),l=this.b-y-t[r]*(p[r]-F)*a[r][r]-t[s]*(p[s]-x)*a[r][s],o=this.b-m-t[r]*(p[r]-F)*a[r][s]-t[s]*(p[s]-x)*a[s][s],this.b=(l+o)/2,p[r]<this.options.C&&p[r]>0&&(this.b=l),p[s]<this.options.C&&p[s]>0&&(this.b=o),I+=1}c++,I===0?d+=1:d=0}if(c===this.options.maxIterations)throw new Error("max iterations reached");if(this.iterations=c,this.options.kernel==="linear"){this.W=new Array(this.D);for(var q=0;q<this.D;q++){this.W[q]=0;for(var O=0;O<i;O++)this.W[q]+=t[O]*p[O]*this.X[O][q]}}var E=[],R=[],U=[];for(this._supportVectorIdx=[],r=0;r<this.N;r++)this.alphas[r]>this.options.alphaTol&&(E.push(this.X[r]),R.push(t[r]),U.push(this.alphas[r]),this._supportVectorIdx.push(r));this.X=E,this.Y=R,this.N=E.length,this.alphas=U,this._trained=!0};_e.prototype.predictOne=function(e){var t=this.marginOne(e);return t>0?1:-1};_e.prototype.predict=function(e){if(!this._trained&&!this._loaded)throw new Error("Cannot predict, you need to train the SVM first");return Array.isArray(e)&&Array.isArray(e[0])?e.map(this.predictOne.bind(this)):this.predictOne(e)};_e.prototype.marginOne=function(e,t){this.options.whitening&&!t&&(e=this._applyWhitening(e));var r=this.b,s;if(this.options.kernel==="linear"&&this.W)for(s=0;s<this.W.length;s++)r+=this.W[s]*e[s];else for(s=0;s<this.N;s++)r+=this.alphas[s]*this.Y[s]*this.kernel.compute([e],[this.X[s]])[0][0];return r};_e.prototype._marginOnePrecomputed=function(e,t){var r=this.b,s;for(s=0;s<this.N;s++)r+=this.alphas[s]*this.Y[s]*t[e][s];return r};_e.prototype.margin=function(e){return Array.isArray(e)?e.map(this.marginOne.bind(this)):this.marginOne(e)};_e.prototype.supportVectors=function(){if(!this._trained&&!this._loaded)throw new Error("Cannot get support vectors, you need to train the SVM first");if(this._loaded&&this.options.kernel==="linear")throw new Error("Cannot get support vectors from saved linear model, you need to train the SVM to have them");return this._supportVectorIdx};_e.load=function(e){this._loaded=!0,this._trained=!1;var t=new _e(e.options);return e.options.kernel==="linear"?(t.W=e.W.slice(),t.D=t.W.length):(t.X=e.X.slice(),t.Y=e.Y.slice(),t.alphas=e.alphas.slice(),t.N=t.X.length,t.D=t.X[0].length),t.minMax=e.minMax,t.b=e.b,t._loaded=!0,t._trained=!1,t};_e.prototype.toJSON=function(){if(!this._trained&&!this._loaded)throw new Error("Cannot export, you need to train the SVM first");var e={};return e.options=Object.assign({},this.options),e.b=this.b,e.minMax=this.minMax,e.options.kernel==="linear"?e.W=this.W.slice():(e.X=this.X.slice(),e.Y=this.Y.slice(),e.alphas=this.alphas.slice()),e};_e.prototype._applyWhitening=function(e){if(!this.minMax)throw new Error("Could not apply whitening");for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=(e[r]-this.minMax[r].min)/(this.minMax[r].max-this.minMax[r].min);return t};var Lo=_e;const Eo=i_(Lo),$o=[{pitch_type:"CH",release_speed:92.1,release_spin_rate:1687},{pitch_type:"SL",release_speed:87.5,release_spin_rate:2586},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2405},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2507},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2580},{pitch_type:"CH",release_speed:90.6,release_spin_rate:1591},{pitch_type:"CH",release_speed:92.7,release_spin_rate:1603},{pitch_type:"FF",release_speed:96,release_spin_rate:2474},{pitch_type:"CH",release_speed:90.6,release_spin_rate:1773},{pitch_type:"CH",release_speed:91.6,release_spin_rate:1802},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2439},{pitch_type:"SL",release_speed:85.2,release_spin_rate:2463},{pitch_type:"SL",release_speed:85.5,release_spin_rate:2585},{pitch_type:"CH",release_speed:89.2,release_spin_rate:1634},{pitch_type:"SL",release_speed:86.9,release_spin_rate:2514},{pitch_type:"SL",release_speed:87.8,release_spin_rate:2629},{pitch_type:"SL",release_speed:86.3,release_spin_rate:2674},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2289},{pitch_type:"SL",release_speed:83.9,release_spin_rate:2462},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2533},{pitch_type:"FF",release_speed:99.7,release_spin_rate:2515},{pitch_type:"FF",release_speed:96,release_spin_rate:2316},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2558},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2477},{pitch_type:"CH",release_speed:92.4,release_spin_rate:1615},{pitch_type:"CH",release_speed:93.8,release_spin_rate:1738},{pitch_type:"SL",release_speed:86.7,release_spin_rate:2576},{pitch_type:"CH",release_speed:92.3,release_spin_rate:1738},{pitch_type:"SL",release_speed:86.7,release_spin_rate:2537},{pitch_type:"FF",release_speed:99.5,release_spin_rate:2555},{pitch_type:"FF",release_speed:98,release_spin_rate:2480},{pitch_type:"SL",release_speed:89,release_spin_rate:2602},{pitch_type:"CH",release_speed:92.6,release_spin_rate:1572},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2489},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1710},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2402},{pitch_type:"FF",release_speed:98.4,release_spin_rate:2498},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2432},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2513},{pitch_type:"FF",release_speed:98.2,release_spin_rate:2490},{pitch_type:"SL",release_speed:90.2,release_spin_rate:2508},{pitch_type:"SL",release_speed:87.1,release_spin_rate:2557},{pitch_type:"CH",release_speed:90.4,release_spin_rate:1587},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2485},{pitch_type:"SL",release_speed:85.6,release_spin_rate:2383},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2507},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2381},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2534},{pitch_type:"SL",release_speed:87.1,release_spin_rate:2568},{pitch_type:"SL",release_speed:88.9,release_spin_rate:2610},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2323},{pitch_type:"FC",release_speed:88.4,release_spin_rate:2473},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2469},{pitch_type:"CH",release_speed:93.4,release_spin_rate:1911},{pitch_type:"CH",release_speed:94.4,release_spin_rate:1675},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2432},{pitch_type:"CH",release_speed:92.1,release_spin_rate:1586},{pitch_type:"FF",release_speed:98.3,release_spin_rate:2549},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2576},{pitch_type:"CH",release_speed:92.6,release_spin_rate:1858},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2529},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2571},{pitch_type:"CH",release_speed:94.3,release_spin_rate:1798},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2486},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2521},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2478},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2462},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2415},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2509},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2536},{pitch_type:"CH",release_speed:92.7,release_spin_rate:1774},{pitch_type:"CH",release_speed:92,release_spin_rate:2018},{pitch_type:"CH",release_speed:92.9,release_spin_rate:2027},{pitch_type:"CH",release_speed:91.8,release_spin_rate:1684},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2527},{pitch_type:"SL",release_speed:87,release_spin_rate:2628},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2510},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2443},{pitch_type:"CH",release_speed:92.7,release_spin_rate:1843},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2566},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2514},{pitch_type:"CH",release_speed:92.8,release_spin_rate:1699},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2362},{pitch_type:"CH",release_speed:93,release_spin_rate:1882},{pitch_type:"CH",release_speed:92.7,release_spin_rate:1901},{pitch_type:"CH",release_speed:91.2,release_spin_rate:1827},{pitch_type:"CH",release_speed:92.5,release_spin_rate:1870},{pitch_type:"CH",release_speed:92.5,release_spin_rate:1830},{pitch_type:"FF",release_speed:97,release_spin_rate:2467},{pitch_type:"CH",release_speed:92.9,release_spin_rate:1952},{pitch_type:"CH",release_speed:91.1,release_spin_rate:1724},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2493},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2548},{pitch_type:"FF",release_speed:97.8,release_spin_rate:2481},{pitch_type:"FC",release_speed:88.8,release_spin_rate:2567},{pitch_type:"SL",release_speed:89,release_spin_rate:2586},{pitch_type:"FF",release_speed:96,release_spin_rate:2477},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2474},{pitch_type:"SL",release_speed:89.7,release_spin_rate:2565},{pitch_type:"CH",release_speed:92.3,release_spin_rate:1979},{pitch_type:"CH",release_speed:92.9,release_spin_rate:1812},{pitch_type:"SL",release_speed:87.9,release_spin_rate:2601},{pitch_type:"CH",release_speed:92.3,release_spin_rate:1846},{pitch_type:"CH",release_speed:91.7,release_spin_rate:1816},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2570},{pitch_type:"FF",release_speed:98.2,release_spin_rate:2521},{pitch_type:"CH",release_speed:92.8,release_spin_rate:1796},{pitch_type:"CH",release_speed:93.3,release_spin_rate:1823},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2533},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2563},{pitch_type:"FF",release_speed:97.7,release_spin_rate:2595},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2539},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2531},{pitch_type:"CH",release_speed:92.7,release_spin_rate:1766},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2531},{pitch_type:"SL",release_speed:87.2,release_spin_rate:2532},{pitch_type:"FF",release_speed:99.4,release_spin_rate:2511},{pitch_type:"CH",release_speed:93.4,release_spin_rate:1826},{pitch_type:"SL",release_speed:88,release_spin_rate:2692},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2569},{pitch_type:"SL",release_speed:89,release_spin_rate:2643},{pitch_type:"FF",release_speed:98.4,release_spin_rate:2443},{pitch_type:"CH",release_speed:93.2,release_spin_rate:1776},{pitch_type:"CH",release_speed:94.3,release_spin_rate:1907},{pitch_type:"FF",release_speed:98,release_spin_rate:2529},{pitch_type:"CH",release_speed:92.4,release_spin_rate:1781},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2586},{pitch_type:"SL",release_speed:85.9,release_spin_rate:2607},{pitch_type:"CH",release_speed:90.3,release_spin_rate:1690},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2491},{pitch_type:"SL",release_speed:83.2,release_spin_rate:2374},{pitch_type:"CH",release_speed:91.1,release_spin_rate:1924},{pitch_type:"CH",release_speed:92.3,release_spin_rate:1901},{pitch_type:"CH",release_speed:91.6,release_spin_rate:1738},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2544},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2446},{pitch_type:"FF",release_speed:97.8,release_spin_rate:2539},{pitch_type:"CH",release_speed:93.2,release_spin_rate:1968},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2576},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2542},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2590},{pitch_type:"FF",release_speed:97,release_spin_rate:2449},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2453},{pitch_type:"CH",release_speed:90.4,release_spin_rate:1711},{pitch_type:"CH",release_speed:91.5,release_spin_rate:1793},{pitch_type:"CH",release_speed:93.6,release_spin_rate:1691},{pitch_type:"SL",release_speed:88.4,release_spin_rate:2461},{pitch_type:"FC",release_speed:89.1,release_spin_rate:2529},{pitch_type:"CH",release_speed:92.1,release_spin_rate:1797},{pitch_type:"CH",release_speed:92,release_spin_rate:1639},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2496},{pitch_type:"CH",release_speed:90.9,release_spin_rate:1709},{pitch_type:"CH",release_speed:91.7,release_spin_rate:1834},{pitch_type:"CH",release_speed:92,release_spin_rate:1753},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2482},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2358},{pitch_type:"CH",release_speed:89.7,release_spin_rate:1732},{pitch_type:"CH",release_speed:91.2,release_spin_rate:1776},{pitch_type:"CH",release_speed:91,release_spin_rate:1916},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2516},{pitch_type:"FF",release_speed:96.5,release_spin_rate:2470},{pitch_type:"CH",release_speed:90.4,release_spin_rate:1861},{pitch_type:"FF",release_speed:95,release_spin_rate:2528},{pitch_type:"FF",release_speed:93.6,release_spin_rate:2415},{pitch_type:"CH",release_speed:89.8,release_spin_rate:1931},{pitch_type:"FF",release_speed:94.7,release_spin_rate:2450},{pitch_type:"FC",release_speed:88.8,release_spin_rate:2540},{pitch_type:"CH",release_speed:90.4,release_spin_rate:1865},{pitch_type:"SL",release_speed:87.9,release_spin_rate:2639},{pitch_type:"FF",release_speed:93.8,release_spin_rate:2481},{pitch_type:"FF",release_speed:93.3,release_spin_rate:2373},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2480},{pitch_type:"CH",release_speed:90.1,release_spin_rate:1875},{pitch_type:"FF",release_speed:97.9,release_spin_rate:2562},{pitch_type:"CH",release_speed:90.3,release_spin_rate:1808},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1947},{pitch_type:"SL",release_speed:87.7,release_spin_rate:2655},{pitch_type:"SL",release_speed:87.6,release_spin_rate:2617},{pitch_type:"FF",release_speed:94.9,release_spin_rate:2510},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2571},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2550},{pitch_type:"FF",release_speed:94.8,release_spin_rate:2497},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2534},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2500},{pitch_type:"CH",release_speed:90.4,release_spin_rate:1807},{pitch_type:"CH",release_speed:90.6,release_spin_rate:1917},{pitch_type:"SL",release_speed:87.6,release_spin_rate:2595},{pitch_type:"FF",release_speed:96,release_spin_rate:2511},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2460},{pitch_type:"SL",release_speed:84.4,release_spin_rate:2563},{pitch_type:"SL",release_speed:83.4,release_spin_rate:2561},{pitch_type:"SL",release_speed:85.3,release_spin_rate:2443},{pitch_type:"FF",release_speed:94.5,release_spin_rate:2560},{pitch_type:"FF",release_speed:94.3,release_spin_rate:2558},{pitch_type:"FF",release_speed:93.8,release_spin_rate:2485},{pitch_type:"FF",release_speed:95,release_spin_rate:2584},{pitch_type:"FF",release_speed:94.8,release_spin_rate:2538},{pitch_type:"FF",release_speed:94.4,release_spin_rate:2538},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2619},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2473},{pitch_type:"FF",release_speed:94.1,release_spin_rate:2491},{pitch_type:"SL",release_speed:86.4,release_spin_rate:2559},{pitch_type:"FF",release_speed:94.7,release_spin_rate:2462},{pitch_type:"CH",release_speed:93.6,release_spin_rate:1817},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1725},{pitch_type:"CH",release_speed:92.9,release_spin_rate:1823},{pitch_type:"CH",release_speed:90,release_spin_rate:1616},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2485},{pitch_type:"FF",release_speed:94.3,release_spin_rate:2487},{pitch_type:"FF",release_speed:94.9,release_spin_rate:2463},{pitch_type:"FF",release_speed:95.4,release_spin_rate:2395},{pitch_type:"FF",release_speed:96.5,release_spin_rate:2478},{pitch_type:"CH",release_speed:93.8,release_spin_rate:1721},{pitch_type:"FF",release_speed:96,release_spin_rate:2369},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2568},{pitch_type:"CH",release_speed:92.3,release_spin_rate:1841},{pitch_type:"CH",release_speed:92,release_spin_rate:1777},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2514},{pitch_type:"SL",release_speed:87.6,release_spin_rate:2572},{pitch_type:"CH",release_speed:92.7,release_spin_rate:1882},{pitch_type:"SL",release_speed:87.8,release_spin_rate:2578},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1713},{pitch_type:"SL",release_speed:86.3,release_spin_rate:2541},{pitch_type:"CH",release_speed:92.3,release_spin_rate:1871},{pitch_type:"SL",release_speed:88.1,release_spin_rate:2632},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1812},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2471},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2530},{pitch_type:"FF",release_speed:97,release_spin_rate:2446},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2481},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2512},{pitch_type:"SL",release_speed:89,release_spin_rate:2685},{pitch_type:"CH",release_speed:92.5,release_spin_rate:1869},{pitch_type:"SL",release_speed:89.2,release_spin_rate:2571},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2431},{pitch_type:"FF",release_speed:98.6,release_spin_rate:2535},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2470},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2519},{pitch_type:"FF",release_speed:99,release_spin_rate:2553},{pitch_type:"CH",release_speed:92.5,release_spin_rate:1783},{pitch_type:"SL",release_speed:89.3,release_spin_rate:2785},{pitch_type:"CH",release_speed:94.4,release_spin_rate:1909},{pitch_type:"SL",release_speed:87.4,release_spin_rate:2740},{pitch_type:"FF",release_speed:98.9,release_spin_rate:2520},{pitch_type:"SL",release_speed:88.2,release_spin_rate:2810},{pitch_type:"SL",release_speed:90.7,release_spin_rate:2715},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2584},{pitch_type:"FF",release_speed:98.2,release_spin_rate:2583},{pitch_type:"SL",release_speed:89.7,release_spin_rate:2616},{pitch_type:"FF",release_speed:96.5,release_spin_rate:2439},{pitch_type:"CH",release_speed:90.6,release_spin_rate:1662},{pitch_type:"FF",release_speed:95.4,release_spin_rate:2494},{pitch_type:"FF",release_speed:96,release_spin_rate:2435},{pitch_type:"CH",release_speed:93,release_spin_rate:1782},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2495},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2501},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2458},{pitch_type:"CH",release_speed:91.4,release_spin_rate:1844},{pitch_type:"FF",release_speed:95.2,release_spin_rate:2551},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2515},{pitch_type:"CH",release_speed:91.2,release_spin_rate:1820},{pitch_type:"CH",release_speed:91.2,release_spin_rate:1865},{pitch_type:"FF",release_speed:97,release_spin_rate:2667},{pitch_type:"CH",release_speed:93.7,release_spin_rate:1770},{pitch_type:"FF",release_speed:97,release_spin_rate:2587},{pitch_type:"CH",release_speed:92.2,release_spin_rate:1712},{pitch_type:"CH",release_speed:90.1,release_spin_rate:1632},{pitch_type:"SL",release_speed:85.6,release_spin_rate:2641},{pitch_type:"SL",release_speed:88.2,release_spin_rate:2558},{pitch_type:"SL",release_speed:85.7,release_spin_rate:2595},{pitch_type:"CH",release_speed:90.2,release_spin_rate:1701},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2416},{pitch_type:"CH",release_speed:91.6,release_spin_rate:1741},{pitch_type:"FF",release_speed:97,release_spin_rate:2520},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2478},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2497},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2452},{pitch_type:"CH",release_speed:91.1,release_spin_rate:1969},{pitch_type:"CH",release_speed:91.7,release_spin_rate:1977},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2491},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2512},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2482},{pitch_type:"SL",release_speed:88,release_spin_rate:2586},{pitch_type:"SL",release_speed:88,release_spin_rate:2571},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2484},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2448},{pitch_type:"FF",release_speed:94.9,release_spin_rate:2521},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2529},{pitch_type:"CH",release_speed:90.3,release_spin_rate:1767},{pitch_type:"FF",release_speed:94.5,release_spin_rate:2456},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2497},{pitch_type:"FF",release_speed:95,release_spin_rate:2475},{pitch_type:"CH",release_speed:89.2,release_spin_rate:1701},{pitch_type:"FF",release_speed:94.7,release_spin_rate:2564},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2589},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2550},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2577},{pitch_type:"FF",release_speed:96,release_spin_rate:2518},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1782},{pitch_type:"CH",release_speed:90,release_spin_rate:1706},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2583},{pitch_type:"SL",release_speed:85.4,release_spin_rate:2509},{pitch_type:"FF",release_speed:94.1,release_spin_rate:2513},{pitch_type:"FF",release_speed:95.2,release_spin_rate:2436},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1740},{pitch_type:"CH",release_speed:88.9,release_spin_rate:1774},{pitch_type:"CH",release_speed:89.2,release_spin_rate:1646},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2551},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2512},{pitch_type:"FF",release_speed:94.8,release_spin_rate:2534},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2474},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2529},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2612},{pitch_type:"FF",release_speed:94.9,release_spin_rate:2530},{pitch_type:"SL",release_speed:86.7,release_spin_rate:2474},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2600},{pitch_type:"CH",release_speed:92.8,release_spin_rate:1595},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2577},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2527},{pitch_type:"FF",release_speed:94,release_spin_rate:2415},{pitch_type:"FF",release_speed:93.8,release_spin_rate:2468},{pitch_type:"CH",release_speed:90.3,release_spin_rate:1778},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2576},{pitch_type:"SL",release_speed:88.2,release_spin_rate:2636},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2522},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2562},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2448},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2449},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1656},{pitch_type:"FF",release_speed:97,release_spin_rate:2433},{pitch_type:"SL",release_speed:85.6,release_spin_rate:2444},{pitch_type:"CH",release_speed:89.5,release_spin_rate:1679},{pitch_type:"FF",release_speed:95.4,release_spin_rate:2495},{pitch_type:"CH",release_speed:90.6,release_spin_rate:1667},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2495},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2485},{pitch_type:"FF",release_speed:95,release_spin_rate:2458},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2504},{pitch_type:"SL",release_speed:85.5,release_spin_rate:2572},{pitch_type:"FF",release_speed:93.5,release_spin_rate:2471},{pitch_type:"CH",release_speed:90.2,release_spin_rate:1755},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2562},{pitch_type:"SL",release_speed:85.1,release_spin_rate:2641},{pitch_type:"CH",release_speed:89.6,release_spin_rate:1842},{pitch_type:"SL",release_speed:86.5,release_spin_rate:2668},{pitch_type:"CH",release_speed:88.7,release_spin_rate:1791},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2509},{pitch_type:"FF",release_speed:94.3,release_spin_rate:2462},{pitch_type:"SL",release_speed:86.9,release_spin_rate:2595},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2564},{pitch_type:"CH",release_speed:90.3,release_spin_rate:1910},{pitch_type:"CH",release_speed:90.4,release_spin_rate:1798},{pitch_type:"FF",release_speed:95.4,release_spin_rate:2476},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2600},{pitch_type:"FF",release_speed:94.6,release_spin_rate:2496},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2572},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2526},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2497},{pitch_type:"CH",release_speed:90.8,release_spin_rate:1935},{pitch_type:"FF",release_speed:96.5,release_spin_rate:2588},{pitch_type:"CH",release_speed:90.2,release_spin_rate:1894},{pitch_type:"SL",release_speed:86.7,release_spin_rate:2723},{pitch_type:"CH",release_speed:92.2,release_spin_rate:1703},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2598},{pitch_type:"SL",release_speed:87.5,release_spin_rate:2805},{pitch_type:"CH",release_speed:88.9,release_spin_rate:1679},{pitch_type:"SL",release_speed:85.6,release_spin_rate:2423},{pitch_type:"SL",release_speed:85.6,release_spin_rate:2574},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2498},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2456},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2527},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2548},{pitch_type:"CH",release_speed:91.2,release_spin_rate:1925},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2504},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2554},{pitch_type:"CH",release_speed:90.3,release_spin_rate:1670},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2435},{pitch_type:"SL",release_speed:86.8,release_spin_rate:2685},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2526},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2508},{pitch_type:"FF",release_speed:94.6,release_spin_rate:2430},{pitch_type:"CH",release_speed:91.6,release_spin_rate:1699},{pitch_type:"CH",release_speed:88.6,release_spin_rate:1754},{pitch_type:"SL",release_speed:86.5,release_spin_rate:2559},{pitch_type:"FF",release_speed:97.7,release_spin_rate:2589},{pitch_type:"SL",release_speed:85.2,release_spin_rate:2439},{pitch_type:"SL",release_speed:86.8,release_spin_rate:2661},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2458},{pitch_type:"CH",release_speed:89.2,release_spin_rate:1547},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2300},{pitch_type:"FF",release_speed:96.5,release_spin_rate:2420},{pitch_type:"SL",release_speed:85.2,release_spin_rate:2417},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2450},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2086},{pitch_type:"FF",release_speed:94.6,release_spin_rate:2478},{pitch_type:"CH",release_speed:90.9,release_spin_rate:1546},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2517},{pitch_type:"SL",release_speed:88.6,release_spin_rate:2477},{pitch_type:"CH",release_speed:88.3,release_spin_rate:1627},{pitch_type:"SL",release_speed:85.9,release_spin_rate:2545},{pitch_type:"SL",release_speed:85.5,release_spin_rate:2581},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2589},{pitch_type:"CH",release_speed:89.6,release_spin_rate:1698},{pitch_type:"SL",release_speed:85.6,release_spin_rate:2617},{pitch_type:"CH",release_speed:91.7,release_spin_rate:1751},{pitch_type:"CH",release_speed:90,release_spin_rate:1630},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2603},{pitch_type:"SL",release_speed:87.4,release_spin_rate:2677},{pitch_type:"FF",release_speed:97,release_spin_rate:2595},{pitch_type:"FF",release_speed:95.2,release_spin_rate:2521},{pitch_type:"SL",release_speed:86.3,release_spin_rate:2657},{pitch_type:"FF",release_speed:95,release_spin_rate:2464},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2559},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2651},{pitch_type:"CH",release_speed:87.4,release_spin_rate:1710},{pitch_type:"FF",release_speed:97.9,release_spin_rate:2339},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2461},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2395},{pitch_type:"SL",release_speed:86.7,release_spin_rate:2495},{pitch_type:"SL",release_speed:86.9,release_spin_rate:2725},{pitch_type:"SL",release_speed:87,release_spin_rate:2380},{pitch_type:"SL",release_speed:85.3,release_spin_rate:2454},{pitch_type:"SL",release_speed:86,release_spin_rate:2500},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2492},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2515},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2472},{pitch_type:"CH",release_speed:88.2,release_spin_rate:1552},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2460},{pitch_type:"CH",release_speed:91.8,release_spin_rate:1744},{pitch_type:"CH",release_speed:90.8,release_spin_rate:1675},{pitch_type:"CH",release_speed:91.7,release_spin_rate:1761},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2710},{pitch_type:"CH",release_speed:89.5,release_spin_rate:1659},{pitch_type:"CH",release_speed:90.6,release_spin_rate:1383},{pitch_type:"FF",release_speed:98.8,release_spin_rate:2176},{pitch_type:"FF",release_speed:98,release_spin_rate:2463},{pitch_type:"CH",release_speed:92.5,release_spin_rate:1562},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2312},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2339},{pitch_type:"FF",release_speed:94.6,release_spin_rate:2006},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2517},{pitch_type:"SL",release_speed:87.2,release_spin_rate:2637},{pitch_type:"CH",release_speed:91.5,release_spin_rate:1842},{pitch_type:"CH",release_speed:92.2,release_spin_rate:1681},{pitch_type:"SL",release_speed:89.9,release_spin_rate:2662},{pitch_type:"FF",release_speed:98.5,release_spin_rate:2598},{pitch_type:"SL",release_speed:87.6,release_spin_rate:2622},{pitch_type:"SL",release_speed:86.6,release_spin_rate:2719},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2251},{pitch_type:"FF",release_speed:97,release_spin_rate:2283},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2362},{pitch_type:"CH",release_speed:91.6,release_spin_rate:1634},{pitch_type:"CH",release_speed:89.6,release_spin_rate:1625},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2427},{pitch_type:"SL",release_speed:86.7,release_spin_rate:2583},{pitch_type:"FF",release_speed:94,release_spin_rate:2475},{pitch_type:"FF",release_speed:98.1,release_spin_rate:2538},{pitch_type:"CH",release_speed:90.4,release_spin_rate:1775},{pitch_type:"FF",release_speed:94.6,release_spin_rate:2412},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2420},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1576},{pitch_type:"SL",release_speed:86.6,release_spin_rate:2615},{pitch_type:"CH",release_speed:90.1,release_spin_rate:1876},{pitch_type:"FF",release_speed:95.2,release_spin_rate:2431},{pitch_type:"SL",release_speed:88.8,release_spin_rate:2690},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2682},{pitch_type:"FF",release_speed:97.7,release_spin_rate:2545},{pitch_type:"FF",release_speed:98.3,release_spin_rate:2491},{pitch_type:"SL",release_speed:86.9,release_spin_rate:2451},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1640},{pitch_type:"SL",release_speed:87.7,release_spin_rate:2605},{pitch_type:"SL",release_speed:89.1,release_spin_rate:2568},{pitch_type:"FF",release_speed:98.5,release_spin_rate:2337},{pitch_type:"CH",release_speed:90,release_spin_rate:1556},{pitch_type:"SL",release_speed:86.7,release_spin_rate:2682},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2335},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2305},{pitch_type:"FF",release_speed:94.7,release_spin_rate:2459},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2512},{pitch_type:"FF",release_speed:94.9,release_spin_rate:2311},{pitch_type:"FF",release_speed:94.8,release_spin_rate:2327},{pitch_type:"CH",release_speed:89.2,release_spin_rate:1648},{pitch_type:"FF",release_speed:94.8,release_spin_rate:2452},{pitch_type:"SL",release_speed:89,release_spin_rate:2517},{pitch_type:"CH",release_speed:93.9,release_spin_rate:1718},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2338},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1613},{pitch_type:"SL",release_speed:83.3,release_spin_rate:2441},{pitch_type:"CH",release_speed:88.4,release_spin_rate:1683},{pitch_type:"CH",release_speed:88.9,release_spin_rate:1554},{pitch_type:"FF",release_speed:94.4,release_spin_rate:2422},{pitch_type:"SL",release_speed:85.7,release_spin_rate:2431},{pitch_type:"CH",release_speed:89.7,release_spin_rate:1709},{pitch_type:"SL",release_speed:84.7,release_spin_rate:2380},{pitch_type:"CH",release_speed:89.6,release_spin_rate:1748},{pitch_type:"SL",release_speed:87.3,release_spin_rate:2442},{pitch_type:"CH",release_speed:89.3,release_spin_rate:1601},{pitch_type:"SL",release_speed:85.6,release_spin_rate:2429},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2592},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2318},{pitch_type:"SL",release_speed:85.7,release_spin_rate:2368},{pitch_type:"CH",release_speed:90.9,release_spin_rate:1732},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2132},{pitch_type:"FF",release_speed:98.2,release_spin_rate:2384},{pitch_type:"CH",release_speed:89.8,release_spin_rate:1695},{pitch_type:"FF",release_speed:94.5,release_spin_rate:2158},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2142},{pitch_type:"CH",release_speed:91.6,release_spin_rate:1771},{pitch_type:"CH",release_speed:87.3,release_spin_rate:1706},{pitch_type:"SL",release_speed:85.3,release_spin_rate:2552},{pitch_type:"SL",release_speed:91.5,release_spin_rate:2381},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2409},{pitch_type:"SL",release_speed:85.7,release_spin_rate:2417},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2365},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2399},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2285},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2375},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2312},{pitch_type:"FF",release_speed:94.1,release_spin_rate:2306},{pitch_type:"FF",release_speed:98.1,release_spin_rate:2483},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2532},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2453},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2432},{pitch_type:"SL",release_speed:85.6,release_spin_rate:2502},{pitch_type:"CH",release_speed:88.6,release_spin_rate:1778},{pitch_type:"FF",release_speed:97,release_spin_rate:2485},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2534},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2417},{pitch_type:"CH",release_speed:88.2,release_spin_rate:1821},{pitch_type:"CH",release_speed:89.4,release_spin_rate:1754},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2329},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2488},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1926},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1630},{pitch_type:"FF",release_speed:94.7,release_spin_rate:2363},{pitch_type:"SL",release_speed:86.2,release_spin_rate:2447},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2397},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2531},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2407},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2467},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2468},{pitch_type:"CH",release_speed:91.4,release_spin_rate:1942},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2531},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2440},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2539},{pitch_type:"CH",release_speed:92.4,release_spin_rate:1897},{pitch_type:"CH",release_speed:90.8,release_spin_rate:1683},{pitch_type:"FF",release_speed:94.4,release_spin_rate:2338},{pitch_type:"FF",release_speed:96,release_spin_rate:2447},{pitch_type:"CH",release_speed:88.3,release_spin_rate:1806},{pitch_type:"FF",release_speed:94.3,release_spin_rate:2448},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2426},{pitch_type:"SL",release_speed:85.9,release_spin_rate:2365},{pitch_type:"FF",release_speed:94.2,release_spin_rate:2366},{pitch_type:"CH",release_speed:87.4,release_spin_rate:1729},{pitch_type:"FF",release_speed:94.5,release_spin_rate:2404},{pitch_type:"FF",release_speed:93.6,release_spin_rate:2386},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2445},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2508},{pitch_type:"CH",release_speed:90.4,release_spin_rate:1628},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2462},{pitch_type:"FF",release_speed:96.5,release_spin_rate:2497},{pitch_type:"CH",release_speed:92,release_spin_rate:1868},{pitch_type:"SL",release_speed:90.7,release_spin_rate:2498},{pitch_type:"CH",release_speed:90.2,release_spin_rate:1800},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2294},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2355},{pitch_type:"FF",release_speed:96,release_spin_rate:2435},{pitch_type:"CH",release_speed:91,release_spin_rate:1720},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2453},{pitch_type:"CH",release_speed:91,release_spin_rate:1711},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2351},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2426},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2384},{pitch_type:"FF",release_speed:94.2,release_spin_rate:2336},{pitch_type:"FF",release_speed:93,release_spin_rate:2326},{pitch_type:"FF",release_speed:93.9,release_spin_rate:2444},{pitch_type:"FF",release_speed:94.2,release_spin_rate:2520},{pitch_type:"FF",release_speed:93.5,release_spin_rate:2413},{pitch_type:"FF",release_speed:95,release_spin_rate:2451},{pitch_type:"SL",release_speed:83.7,release_spin_rate:2461},{pitch_type:"FF",release_speed:95,release_spin_rate:2473},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2411},{pitch_type:"SL",release_speed:84.2,release_spin_rate:2467},{pitch_type:"FF",release_speed:94.8,release_spin_rate:2457},{pitch_type:"SL",release_speed:85.1,release_spin_rate:2398},{pitch_type:"SL",release_speed:85,release_spin_rate:2455},{pitch_type:"SL",release_speed:86.2,release_spin_rate:2492},{pitch_type:"SL",release_speed:85.5,release_spin_rate:2257},{pitch_type:"FF",release_speed:98.9,release_spin_rate:2573},{pitch_type:"SL",release_speed:87.6,release_spin_rate:2435},{pitch_type:"CH",release_speed:91.3,release_spin_rate:1572},{pitch_type:"SL",release_speed:86.7,release_spin_rate:2485},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2517},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2435},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2416},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2388},{pitch_type:"FF",release_speed:93.9,release_spin_rate:2423},{pitch_type:"FF",release_speed:93.1,release_spin_rate:2446},{pitch_type:"FF",release_speed:94,release_spin_rate:2374},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2523},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2467},{pitch_type:"SL",release_speed:85.7,release_spin_rate:2358},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2511},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2608},{pitch_type:"CH",release_speed:90.8,release_spin_rate:1508},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2479},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2310},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2413},{pitch_type:"FF",release_speed:94.6,release_spin_rate:2501},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2471},{pitch_type:"SL",release_speed:87.4,release_spin_rate:2598},{pitch_type:"SL",release_speed:88.8,release_spin_rate:2446},{pitch_type:"FF",release_speed:97.7,release_spin_rate:2384},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1849},{pitch_type:"FF",release_speed:97.7,release_spin_rate:2513},{pitch_type:"FF",release_speed:98.5,release_spin_rate:2485},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2573},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2585},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2503},{pitch_type:"FF",release_speed:96.5,release_spin_rate:2530},{pitch_type:"SL",release_speed:87.7,release_spin_rate:2539},{pitch_type:"SL",release_speed:83.8,release_spin_rate:2304},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1714},{pitch_type:"FF",release_speed:98.4,release_spin_rate:2482},{pitch_type:"CH",release_speed:91.7,release_spin_rate:1838},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1927},{pitch_type:"CH",release_speed:92.6,release_spin_rate:1707},{pitch_type:"CH",release_speed:90.9,release_spin_rate:1759},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2466},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2680},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2538},{pitch_type:"FF",release_speed:98.1,release_spin_rate:2563},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2513},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2526},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2439},{pitch_type:"FF",release_speed:98.6,release_spin_rate:2538},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2532},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2468},{pitch_type:"FF",release_speed:97.8,release_spin_rate:2481},{pitch_type:"FF",release_speed:98,release_spin_rate:2517},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2323},{pitch_type:"CH",release_speed:90.1,release_spin_rate:1650},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2300},{pitch_type:"FF",release_speed:98.3,release_spin_rate:2513},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2465},{pitch_type:"CH",release_speed:91.3,release_spin_rate:1568},{pitch_type:"CH",release_speed:91,release_spin_rate:1631},{pitch_type:"CH",release_speed:91.5,release_spin_rate:1682},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2467},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2208},{pitch_type:"FF",release_speed:97,release_spin_rate:2510},{pitch_type:"SL",release_speed:84.9,release_spin_rate:1396},{pitch_type:"FF",release_speed:95.2,release_spin_rate:2123},{pitch_type:"CH",release_speed:90.2,release_spin_rate:1861},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2351},{pitch_type:"CH",release_speed:88.4,release_spin_rate:1773},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2464},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2434},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2544},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1791},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2526},{pitch_type:"CH",release_speed:89.2,release_spin_rate:1860},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2457},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2514},{pitch_type:"FF",release_speed:97.2,release_spin_rate:2448},{pitch_type:"FF",release_speed:98.1,release_spin_rate:2512},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2386},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2603},{pitch_type:"CH",release_speed:89.4,release_spin_rate:1839},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2489},{pitch_type:"FF",release_speed:95.5,release_spin_rate:2477},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2444},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2482},{pitch_type:"SL",release_speed:85.8,release_spin_rate:2489},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2430},{pitch_type:"SL",release_speed:84.1,release_spin_rate:2342},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2380},{pitch_type:"SL",release_speed:85.5,release_spin_rate:2357},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2557},{pitch_type:"FF",release_speed:96,release_spin_rate:2475},{pitch_type:"FF",release_speed:95.2,release_spin_rate:2424},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2470},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2540},{pitch_type:"CH",release_speed:89.2,release_spin_rate:1764},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2517},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2445},{pitch_type:"FF",release_speed:97.9,release_spin_rate:2548},{pitch_type:"CH",release_speed:89.7,release_spin_rate:1845},{pitch_type:"FF",release_speed:95.1,release_spin_rate:2490},{pitch_type:"FF",release_speed:95.8,release_spin_rate:2540},{pitch_type:"FF",release_speed:96,release_spin_rate:2473},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2450},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2407},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2468},{pitch_type:"FF",release_speed:97.8,release_spin_rate:2617},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2554},{pitch_type:"CH",release_speed:90.8,release_spin_rate:1762},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2472},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2545},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2501},{pitch_type:"FF",release_speed:93.6,release_spin_rate:2482},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2574},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2470},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2431},{pitch_type:"CH",release_speed:89.6,release_spin_rate:2064},{pitch_type:"FF",release_speed:96,release_spin_rate:2532},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2522},{pitch_type:"CH",release_speed:90.9,release_spin_rate:1955},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2551},{pitch_type:"CH",release_speed:90.5,release_spin_rate:1701},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2619},{pitch_type:"SL",release_speed:87.7,release_spin_rate:2599},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2631},{pitch_type:"FF",release_speed:98.2,release_spin_rate:2596},{pitch_type:"SL",release_speed:86.2,release_spin_rate:2582},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2495},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2507},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2622},{pitch_type:"CH",release_speed:88.2,release_spin_rate:1701},{pitch_type:"FF",release_speed:95.6,release_spin_rate:2542},{pitch_type:"SL",release_speed:83.3,release_spin_rate:2640},{pitch_type:"FF",release_speed:95,release_spin_rate:2367},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2447},{pitch_type:"CH",release_speed:89.4,release_spin_rate:1662},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2529},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2510},{pitch_type:"FF",release_speed:94.5,release_spin_rate:2401},{pitch_type:"SL",release_speed:84.4,release_spin_rate:2477},{pitch_type:"CH",release_speed:90,release_spin_rate:1731},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2460},{pitch_type:"FF",release_speed:94.5,release_spin_rate:2486},{pitch_type:"CH",release_speed:92.1,release_spin_rate:1636},{pitch_type:"FF",release_speed:96.2,release_spin_rate:2297},{pitch_type:"SL",release_speed:86.2,release_spin_rate:2608},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2553},{pitch_type:"SL",release_speed:87.1,release_spin_rate:2397},{pitch_type:"CH",release_speed:89.7,release_spin_rate:1746},{pitch_type:"SL",release_speed:85.8,release_spin_rate:2450},{pitch_type:"CH",release_speed:90.7,release_spin_rate:1916},{pitch_type:"SL",release_speed:86,release_spin_rate:2563},{pitch_type:"CH",release_speed:88,release_spin_rate:1756},{pitch_type:"CH",release_speed:90.1,release_spin_rate:1799},{pitch_type:"CH",release_speed:92.8,release_spin_rate:1685},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2366},{pitch_type:"CH",release_speed:90,release_spin_rate:1834},{pitch_type:"SL",release_speed:85.4,release_spin_rate:2062},{pitch_type:"FF",release_speed:93.5,release_spin_rate:null},{pitch_type:"CH",release_speed:91.1,release_spin_rate:1687},{pitch_type:"FF",release_speed:94.8,release_spin_rate:2568},{pitch_type:"FF",release_speed:93.4,release_spin_rate:2371},{pitch_type:"CH",release_speed:90.3,release_spin_rate:1942},{pitch_type:"CH",release_speed:88.8,release_spin_rate:1641},{pitch_type:"CH",release_speed:90.2,release_spin_rate:1868},{pitch_type:"FF",release_speed:98.4,release_spin_rate:2526},{pitch_type:"FF",release_speed:97,release_spin_rate:2565},{pitch_type:"CH",release_speed:89.6,release_spin_rate:1524},{pitch_type:"SL",release_speed:86.9,release_spin_rate:2344},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2526},{pitch_type:"CH",release_speed:91.9,release_spin_rate:1773},{pitch_type:"CH",release_speed:92.1,release_spin_rate:1836},{pitch_type:"CH",release_speed:89.9,release_spin_rate:1574},{pitch_type:"SL",release_speed:85.2,release_spin_rate:2382},{pitch_type:"SL",release_speed:95.7,release_spin_rate:null},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2574},{pitch_type:"FF",release_speed:94.9,release_spin_rate:2578},{pitch_type:"FF",release_speed:94.9,release_spin_rate:2361},{pitch_type:"FF",release_speed:96.4,release_spin_rate:2453},{pitch_type:"CH",release_speed:94.9,release_spin_rate:2252},{pitch_type:"FF",release_speed:98.5,release_spin_rate:2602},{pitch_type:"SL",release_speed:90.1,release_spin_rate:2499},{pitch_type:"FF",release_speed:97.7,release_spin_rate:2481},{pitch_type:"SL",release_speed:87.1,release_spin_rate:2489},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2537},{pitch_type:"FF",release_speed:98.3,release_spin_rate:2360},{pitch_type:"CH",release_speed:92.1,release_spin_rate:1913},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2330},{pitch_type:"CH",release_speed:88,release_spin_rate:1752},{pitch_type:"SL",release_speed:90.8,release_spin_rate:2590},{pitch_type:"FF",release_speed:98.3,release_spin_rate:2588},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2517},{pitch_type:"FF",release_speed:95.3,release_spin_rate:2494},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2570},{pitch_type:"CH",release_speed:91.2,release_spin_rate:1896},{pitch_type:"SL",release_speed:87.9,release_spin_rate:2617},{pitch_type:"FF",release_speed:98.9,release_spin_rate:2677},{pitch_type:"SL",release_speed:90.7,release_spin_rate:2649},{pitch_type:"FF",release_speed:96.9,release_spin_rate:2635},{pitch_type:"SL",release_speed:86.9,release_spin_rate:2603},{pitch_type:"FF",release_speed:97.3,release_spin_rate:2562},{pitch_type:"FF",release_speed:97.8,release_spin_rate:2469},{pitch_type:"SL",release_speed:89,release_spin_rate:2504},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2528},{pitch_type:"SL",release_speed:87.7,release_spin_rate:2612},{pitch_type:"CH",release_speed:91.1,release_spin_rate:1739},{pitch_type:"CH",release_speed:90.6,release_spin_rate:1897},{pitch_type:"FF",release_speed:97.7,release_spin_rate:2676},{pitch_type:"CH",release_speed:89.6,release_spin_rate:1861},{pitch_type:"CH",release_speed:91.8,release_spin_rate:1679},{pitch_type:"FF",release_speed:96.1,release_spin_rate:2567},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2587},{pitch_type:"FF",release_speed:96.3,release_spin_rate:2493},{pitch_type:"FF",release_speed:98.9,release_spin_rate:2731},{pitch_type:"FF",release_speed:98.3,release_spin_rate:2537},{pitch_type:"FF",release_speed:98.8,release_spin_rate:2593},{pitch_type:"CH",release_speed:93.2,release_spin_rate:1875},{pitch_type:"FF",release_speed:97.4,release_spin_rate:2582},{pitch_type:"FF",release_speed:99,release_spin_rate:2573},{pitch_type:"SL",release_speed:90.1,release_spin_rate:2537},{pitch_type:"CH",release_speed:93.4,release_spin_rate:1781},{pitch_type:"CH",release_speed:89.5,release_spin_rate:1699},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2527},{pitch_type:"FF",release_speed:98.1,release_spin_rate:2641},{pitch_type:"FF",release_speed:96.8,release_spin_rate:2586},{pitch_type:"FF",release_speed:95.7,release_spin_rate:2545},{pitch_type:"FF",release_speed:95.9,release_spin_rate:2472},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2551},{pitch_type:"CH",release_speed:90.9,release_spin_rate:1868},{pitch_type:"CH",release_speed:91.4,release_spin_rate:1875},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2532},{pitch_type:"CH",release_speed:91.3,release_spin_rate:1928},{pitch_type:"SL",release_speed:89.4,release_spin_rate:2526},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2537},{pitch_type:"FF",release_speed:97.8,release_spin_rate:2573},{pitch_type:"SL",release_speed:90.2,release_spin_rate:2525},{pitch_type:"FF",release_speed:98.8,release_spin_rate:2560},{pitch_type:"CH",release_speed:91.8,release_spin_rate:1910},{pitch_type:"FF",release_speed:98.4,release_spin_rate:2540},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2519},{pitch_type:"FF",release_speed:97.5,release_spin_rate:2540},{pitch_type:"FF",release_speed:98.6,release_spin_rate:2480},{pitch_type:"FF",release_speed:100,release_spin_rate:2555},{pitch_type:"CH",release_speed:88.8,release_spin_rate:1854},{pitch_type:"FF",release_speed:97.7,release_spin_rate:2443},{pitch_type:"SL",release_speed:85.3,release_spin_rate:2410},{pitch_type:"SL",release_speed:88.8,release_spin_rate:2495},{pitch_type:"FF",release_speed:97.6,release_spin_rate:2591},{pitch_type:"FF",release_speed:99.4,release_spin_rate:2540},{pitch_type:"FF",release_speed:97.1,release_spin_rate:2452},{pitch_type:"SL",release_speed:87.4,release_spin_rate:2397},{pitch_type:"SL",release_speed:86.3,release_spin_rate:2441},{pitch_type:"FF",release_speed:98.2,release_spin_rate:2494},{pitch_type:"FF",release_speed:96.6,release_spin_rate:2571},{pitch_type:"FF",release_speed:97.8,release_spin_rate:2558},{pitch_type:"FF",release_speed:99.1,release_spin_rate:2625},{pitch_type:"CH",release_speed:93.4,release_spin_rate:2063},{pitch_type:"FF",release_speed:98.8,release_spin_rate:2546},{pitch_type:"CH",release_speed:93.8,release_spin_rate:1966},{pitch_type:"FF",release_speed:98.5,release_spin_rate:2492},{pitch_type:"FF",release_speed:98.6,release_spin_rate:2514},{pitch_type:"FF",release_speed:98.5,release_spin_rate:2664},{pitch_type:"FF",release_speed:98.1,release_spin_rate:2579},{pitch_type:"FF",release_speed:96.7,release_spin_rate:2558}];function fs(e,t,r){const s=e.slice();return s[5]=t[r],s}function ds(e){let t,r=e[5].join(" & ")+"",s;return{c(){t=Ce("option"),s=ms(r),t.__value=JSON.stringify(e[5]),Tn(t,t.__value)},m(n,a){it(n,t,a),et(t,s)},p:Le,d(n){n&&ze(t)}}}function No(e){let t,r,s,n,a,i,p,_,l,o=Hr(e[0]),c=[];for(let d=0;d<o.length;d+=1)c[d]=ds(fs(e,o,d));return{c(){t=Ce("div"),r=Ce("div"),s=Ce("label"),s.textContent="Select Pitch Pair:",n=Er(),a=Ce("select");for(let d=0;d<c.length;d+=1)c[d].c();i=Er(),p=Ce("div"),p.innerHTML='<div id="scatterplot"></div> <div id="tooltip" style="display: none; position: absolute;"></div>',qe(s,"for","pitchPairSelect"),qe(a,"id","pitchPairSelect"),qe(t,"id","dropdown-container"),qe(t,"class","svelte-y6kius"),qe(p,"id","chart-container"),qe(p,"class","svelte-y6kius")},m(d,y){it(d,t,y),et(t,r),et(r,s),et(r,n),et(r,a);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(a,null);it(d,i,y),it(d,p,y),_||(l=Rn(a,"change",e[1]),_=!0)},p(d,[y]){if(y&1){o=Hr(d[0]);let m;for(m=0;m<o.length;m+=1){const F=fs(d,o,m);c[m]?c[m].p(F,y):(c[m]=ds(F),c[m].c(),c[m].m(a,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=o.length}},i:Le,o:Le,d(d){d&&(ze(t),ze(i),ze(p)),qn(c,d),_=!1,l()}}}function Ho(e){const t=zn();let r=["FF","CH"];const s=[["FF","CH"],["FF","SL"],["FF","FC"],["CH","SL"],["CH","FC"],["SL","FC"]];function n(i){r=JSON.parse(i.target.value),t("selectedPairChanged",r),a()}Dn(()=>{a()});function a(){const i={top:10,right:30,bottom:50,left:60},p=600,_=400;Jt("#scatterplot").select("svg").remove();const l=Jt("#scatterplot").append("svg").attr("width",p+i.left+i.right).attr("height",_+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")");let o=$o.filter($=>r.includes($.pitch_type));const c=nt().domain([Rr(o,$=>$.release_spin_rate)-100,qr(o,$=>$.release_spin_rate)+100]).range([0,p]);l.append("g").attr("transform","translate(0,"+_+")").call(ga(c)),l.append("text").attr("x",p/2).attr("y",_+i.bottom-10).style("text-anchor","middle").text("Release Spin Rate");const d=nt().domain([Rr(o,$=>$.release_speed)-5,qr(o,$=>$.release_speed)+5]).range([_,0]);l.append("g").call(va(d)),l.append("text").attr("transform","rotate(-90)").attr("y",-i.left+20).attr("x",-_/2).attr("dy","-1em").style("text-anchor","middle").text("Release Speed");const y=Jt("#scatterplot").append("div").style("position","absolute").style("background","white").style("padding","5px").style("border","1px solid black").style("border-radius","5px").style("pointer-events","none").style("opacity",0);l.selectAll("circle").data(o).enter().append("circle").attr("cx",$=>c($.release_spin_rate)).attr("cy",$=>d($.release_speed)).attr("r",5).style("fill","steelblue").on("mouseover",($,v)=>{y.transition().duration(200).style("opacity",.9),y.html(`Release Spin Rate: ${v.release_spin_rate}<br/>Release Speed: ${v.release_speed}`).style("left",$.pageX+5+"px").style("top",$.pageY-28+"px")}).on("mouseout",()=>{y.transition().duration(500).style("opacity",0)});const m=an().domain(["FF","CH","SL","FC"]).range(["#FF0000","#0000FF","#800080","#FFA500"]),F=function($,v){v.pitch_type},x=function($,v){ji(".dot").transition().duration(200).style("fill",S=>m(S.pitch_type)).attr("r",5),y.style("display","none")};var g={[r[0]]:1,[r[1]]:-1},w=o.map($=>[$.release_spin_rate,$.release_speed]),L=o.map($=>g[$.pitch_type]);const I=new Eo({kernel:"linear",type:"C_SVC",cost:1});I.train(w,L);const N=I.W,q=I.b,O=nt().domain([0,6]).range([0,p]),E=nt().domain([0,6]).range([_,0]),R=O.domain(),U=R.map($=>(-N[0]*$-q)/N[1]);l.append("line").attr("x1",O(R[0]+2.75)).attr("y1",E(U[0]+2.75)).attr("x2",O(R[1]+2.75)).attr("y2",E(U[1]+2.75)).attr("stroke","green").attr("stroke-width",2),l.append("g").selectAll("dot").data(o).enter().append("circle").attr("class",$=>"dot "+$.pitch_type).attr("cx",$=>c($.release_spin_rate)).attr("cy",$=>d($.release_speed)).attr("r",5).style("fill",$=>m($.pitch_type)).on("mouseover",F).on("mouseleave",x)}return a(),[s,n]}class Io extends Cs{constructor(t){super(),Ss(this,t,Ho,No,vs,{})}}function Oo(e){let t,r,s;return r=new Io({}),{c(){t=Ce("main"),Qn(r.$$.fragment)},m(n,a){it(n,t,a),xs(r,t,null),s=!0},p:Le,i(n){s||(Ms(r.$$.fragment,n),s=!0)},o(n){Wn(r.$$.fragment,n),s=!1},d(n){n&&ze(t),bs(r)}}}class qo extends Cs{constructor(t){super(),Ss(this,t,null,Oo,vs,{})}}new qo({target:document.getElementById("app")});
